
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Crawling link untuk data text &#8212; My sample book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'intro4';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Klasifikasi data berita menggunakan LDA" href="intro5.html" />
    <link rel="prev" title="Web Crawling" href="intro3.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="My sample book - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="My sample book - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Tugas
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="intro2.html">PPW</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro3.html">Web Crawling</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Crawling link untuk data text</a></li>





<li class="toctree-l1"><a class="reference internal" href="intro5.html">Klasifikasi data berita menggunakan LDA</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro6.html">Pembelajaran Tak Terawasi (Unsupervised Learning)</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro7.html">Web Content Mining (text mining)</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro8.html">Web Usage Mining</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro9.html">Web Structure Mining (graph mining)</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro10.html">Deployment System</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fintro4.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/intro4.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Crawling link untuk data text</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Crawling link untuk data text</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#crawling-code">Crawling code</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#kode-untuk-melakukan-web-scraping-pada-situs-pta-trunojoyo-ac-id-untuk-mengumpulkan-semua-judul-beserta-data-pendukungnya-dengan-fokus-hanya-pada-entri-yang-berasal-dari-fakultas-teknik">Kode untuk melakukan web scraping pada situs pta.trunojoyo.ac.id untuk mengumpulkan semua judul beserta data pendukungnya, dengan fokus hanya pada entri yang berasal dari Fakultas Teknik.</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#kode-untuk-scraping-berita-dari-sebuah-web-berita">kode untuk scraping berita dari sebuah web berita</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#kode-untuk-scraping-semua-link-yang-ada-di-website-dan-mencari-kembali-semua-link-yang-ada-di-dalamnya-sampai-semua-telah-tercapai">kode untuk scraping semua link yang ada di website dan mencari kembali semua link yang ada di dalamnya sampai semua telah tercapai</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#preprocessing-isi-berita">Preprocessing isi berita</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tf-idf-dan-word-embedding-untuk-website-berita-yang-telah-di-bersihkan">TF-IDF dan word embedding untuk website berita yang telah di bersihkan</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#praproses-untuk-abstrak-pta">praproses untuk abstrak pta</a></li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="crawling-link-untuk-data-text">
<h1>Crawling link untuk data text<a class="headerlink" href="#crawling-link-untuk-data-text" title="Link to this heading">#</a></h1>
<p>Kode untuk melakukan web scraping pada situs <a class="reference external" href="http://pta.trunojoyo.ac.id">pta.trunojoyo.ac.id</a> untuk mengumpulkan semua judul beserta data pendukungnya, dengan fokus hanya pada entri yang berasal dari Fakultas Teknik.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>builtwith
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Collecting builtwith
  Downloading builtwith-1.3.4.tar.gz (34 kB)
  Preparing metadata (setup.py) ... ?25l?25hdone
Requirement already satisfied: six in /usr/local/lib/python3.12/dist-packages (from builtwith) (1.17.0)
Building wheels for collected packages: builtwith
  Building wheel for builtwith (setup.py) ... ?25l?25hdone
  Created wheel for builtwith: filename=builtwith-1.3.4-py3-none-any.whl size=36077 sha256=66440497a57e57cc65b536d1b40333352a6044a20c6befc53fdff9433406230b
  Stored in directory: /root/.cache/pip/wheels/7f/2d/b2/606e3df914d4aeeab99c4a4e3e9a61673d2293c2e346db00c8
Successfully built builtwith
Installing collected packages: builtwith
Successfully installed builtwith-1.3.4
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">builtwith</span>

<span class="c1"># Analisis teknologi yang digunakan</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">builtwith</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s1">&#39;https://pta.trunojoyo.ac.id&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;web-servers&#39;: [&#39;Nginx&#39;], &#39;javascript-frameworks&#39;: [&#39;jQuery&#39;, &#39;jQuery UI&#39;]}
</pre></div>
</div>
</div>
</div>
</section>
<section id="crawling-code">
<h1>Crawling code<a class="headerlink" href="#crawling-code" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">bs4</span><span class="w"> </span><span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="k">def</span><span class="w"> </span><span class="nf">crawl_website</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>  <span class="c1"># Raise an error for bad status codes</span>

        <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s1">&#39;html.parser&#39;</span><span class="p">)</span>

        <span class="c1"># Ambil semua judul h1, h2, h3</span>
        <span class="n">headings</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">([</span><span class="s1">&#39;h1&#39;</span><span class="p">,</span> <span class="s1">&#39;h2&#39;</span><span class="p">,</span> <span class="s1">&#39;h3&#39;</span><span class="p">])</span>
        <span class="k">for</span> <span class="n">heading</span> <span class="ow">in</span> <span class="n">headings</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">heading</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">heading</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="c1"># Ambil semua link</span>
        <span class="n">links</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">href</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">links</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;URL: </span><span class="si">{</span><span class="n">link</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> | Teks: </span><span class="si">{</span><span class="n">link</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">RequestException</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Terjadi kesalahan saat mengakses </span><span class="si">{</span><span class="n">url</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Gunakan fungsi</span>
<span class="n">crawl_website</span><span class="p">(</span><span class="s2">&quot;https://trunojoyo.ac.id/&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>h3:  Unggul
h3:  Tangguh
h3:  Mandiri
h2: Tentang UTM
h2: Excellence Base On Local Wisdom
h2: PIMPINAN UNIVERSITAS TRUNOJOYO MADURA
h3: Prof. Dr. Safi’, S.H., M.H.
h3: Prof. Dr. Achmad Amzeri, S.P., M.P.
h3: Ir. Ari Basuki, S.T., M.T.
h3: Surokim, S.Sos., S.H., M.Si.
h2: Sampaikan Saran Disini
h3: Laman Penunjang
h3: Alamat
h3: Email Address
h3: Telepon, WA
h3: Official Account
URL: https://www2.trunojoyo.ac.id/ | Teks: 


URL: tel:031-3011146 | Teks: 031-3011146
URL: mailto:humas@trunojoyo.ac.id | Teks: humas@trunojoyo.ac.id
URL: # | Teks:   
URL: #  | Teks:   
URL: #  | Teks:   
URL: #  | Teks:   
URL: # | Teks: Tentang
URL: https://www2.trunojoyo.ac.id/sejarahutm/ | Teks: Sejarah
URL: https://www2.trunojoyo.ac.id/index.php/profil-singkat/ | Teks: Profil Singkat
URL: https://www2.trunojoyo.ac.id/visimisi/ | Teks: Visi dan Misi
URL: https://www2.trunojoyo.ac.id/lhm/ | Teks: Logo, Hymne dan Mars
URL: https://www2.trunojoyo.ac.id/organ-utm/ | Teks: Organisasi UTM
URL: # | Teks: Alumni
URL: # | Teks: Kelembagaan
URL: # | Teks: Fakultas
URL: https://hukum.trunojoyo.ac.id/ | Teks: Hukum
URL: https://feb.trunojoyo.ac.id/ | Teks: Ekonomi &amp; Bisnis
URL: https://pertanian.trunojoyo.ac.id/ | Teks: Pertanian
URL: https://teknik.trunojoyo.ac.id/ | Teks: Teknik
URL: https://fisib.trunojoyo.ac.id/ | Teks: Ilmu Sosial &amp; Ilmu Budaya
URL: https://fip.trunojoyo.ac.id/ | Teks: Keguruan &amp; Ilmu Pendidikan
URL: https://fik.trunojoyo.ac.id/ | Teks: Keislaman
URL: https://pasca.trunojoyo.ac.id/ | Teks: Pascasarjana
URL: # | Teks: Lembaga
URL: https://lpmpp.trunojoyo.ac.id/ | Teks: LPMPP
URL: https://lppm.trunojoyo.ac.id/ | Teks: LPPM
URL: # | Teks: SPI
URL: # | Teks: BAKK
URL: # | Teks: BPKU
URL: https://asrama.trunojoyo.ac.id/ | Teks: Asrama
URL: # | Teks: IRO
URL: # | Teks: Pusat Karir
URL: # | Teks: UPA
URL: https://tik.trunojoyo.ac.id/ | Teks: UPA. TIK
URL: https://pusatbahasa.trunojoyo.ac.id/ | Teks: UPA. Bahasa
URL: https://library.trunojoyo.ac.id/ | Teks: UPA. Perpustakaan
URL: # | Teks: UPA. Sertifikasi
URL: https://labterpadu.trunojoyo.ac.id/ | Teks: UPA. Laboratorium Terpadu
URL: # | Teks: UPA. Pengembangan Karier dan Kewirausahaan
URL: # | Teks: Data
URL: https://www2.trunojoyo.ac.id/data-penelitian-2/ | Teks: Data Penelitian
URL: # | Teks: Data Pengabdian Kepada Masyarakat
URL: https://www2.trunojoyo.ac.id/data-kerjasama/ | Teks: Data Kerjasama
URL: # | Teks: Admisi
URL: # | Teks: SNPMB
URL: # | Teks: Mandiri
URL: # | Teks: RPL
URL: # | Teks: Dokumen
URL: https://www2.trunojoyo.ac.id/dokumen-penelitian-pengabdian/ | Teks: Dokumen Penelitian &amp; Pengabdian
URL: https://www2.trunojoyo.ac.id/dokumen-sarana-prasarana/ | Teks: Dokumen Sarana &amp; Prasarana
URL: https://www2.trunojoyo.ac.id/dokumen-standar-pelayanan/ | Teks: Dokumen Standar Pelayanan
URL: https://www2.trunojoyo.ac.id/dokumen-sumber-daya-manusia/ | Teks: Dokumen Sumber Daya Manusia
URL: https://www2.trunojoyo.ac.id/dokumen-tata-pamong/ | Teks: Dokumen Tata Pamong
URL: https://ppid.trunojoyo.ac.id | Teks: PPID
URL: mailto:support.industrie@gmail.com | Teks: 

 
Email. humas@trunojoyo.ac.id

URL: tel:+971%20551%20579%20261 | Teks: 

 
Telp. 031-3011146

URL: https://wa.me/6281133330046 | Teks: 

 
WA. +62811-3333-0046

URL: https://www.trunojoyo.ac.id/ | Teks: 
 
URL: # | Teks: Tentang 
URL: https://www2.trunojoyo.ac.id/sejarahutm/ | Teks: Sejarah
URL: https://www2.trunojoyo.ac.id/index.php/profil-singkat/ | Teks: Profil Singkat
URL: https://www2.trunojoyo.ac.id/visimisi/ | Teks: Visi dan Misi
URL: https://www2.trunojoyo.ac.id/lhm/ | Teks: Logo, Hymne dan Mars
URL: https://www2.trunojoyo.ac.id/organ-utm/ | Teks: Organisasi UTM
URL: # | Teks: Alumni
URL: # | Teks: Kelembagaan 
URL: # | Teks: Fakultas 
URL: https://hukum.trunojoyo.ac.id/ | Teks: Hukum
URL: https://feb.trunojoyo.ac.id/ | Teks: Ekonomi &amp; Bisnis
URL: https://pertanian.trunojoyo.ac.id/ | Teks: Pertanian
URL: https://teknik.trunojoyo.ac.id/ | Teks: Teknik
URL: https://fisib.trunojoyo.ac.id/ | Teks: Ilmu Sosial &amp; Ilmu Budaya
URL: https://fip.trunojoyo.ac.id/ | Teks: Keguruan &amp; Ilmu Pendidikan
URL: https://fik.trunojoyo.ac.id/ | Teks: Keislaman
URL: https://pasca.trunojoyo.ac.id/ | Teks: Pascasarjana
URL: # | Teks: Lembaga 
URL: https://lpmpp.trunojoyo.ac.id/ | Teks: LPMPP
URL: https://lppm.trunojoyo.ac.id/ | Teks: LPPM
URL: # | Teks: SPI
URL: # | Teks: BAKK
URL: # | Teks: BPKU
URL: https://asrama.trunojoyo.ac.id/ | Teks: Asrama
URL: # | Teks: IRO
URL: # | Teks: Pusat Karir
URL: # | Teks: UPA 
URL: https://tik.trunojoyo.ac.id/ | Teks: UPA. TIK
URL: https://pusatbahasa.trunojoyo.ac.id/ | Teks: UPA. Bahasa
URL: https://library.trunojoyo.ac.id/ | Teks: UPA. Perpustakaan
URL: # | Teks: UPA. Sertifikasi
URL: https://labterpadu.trunojoyo.ac.id/ | Teks: UPA. Laboratorium Terpadu
URL: # | Teks: UPA. Pengembangan Karier dan Kewirausahaan
URL: # | Teks: Data 
URL: https://www2.trunojoyo.ac.id/data-penelitian-2/ | Teks: Data Penelitian
URL: # | Teks: Data Pengabdian Kepada Masyarakat
URL: https://www2.trunojoyo.ac.id/data-kerjasama/ | Teks: Data Kerjasama
URL: # | Teks: Admisi 
URL: # | Teks: SNPMB
URL: # | Teks: Mandiri
URL: # | Teks: RPL
URL: # | Teks: Dokumen 
URL: https://www2.trunojoyo.ac.id/dokumen-penelitian-pengabdian/ | Teks: Dokumen Penelitian &amp; Pengabdian
URL: https://www2.trunojoyo.ac.id/dokumen-sarana-prasarana/ | Teks: Dokumen Sarana &amp; Prasarana
URL: https://www2.trunojoyo.ac.id/dokumen-standar-pelayanan/ | Teks: Dokumen Standar Pelayanan
URL: https://www2.trunojoyo.ac.id/dokumen-sumber-daya-manusia/ | Teks: Dokumen Sumber Daya Manusia
URL: https://www2.trunojoyo.ac.id/dokumen-tata-pamong/ | Teks: Dokumen Tata Pamong
URL: https://ppid.trunojoyo.ac.id | Teks: PPID
URL: https://drive.google.com/drive/folders/1G8tmMYJ6S58BtzwRP9V_78XkNOl3aR8y?usp=sharing | Teks: 

 
Download Center

URL: https://industrie.rstheme.com/laboratory/about/ | Teks: 
Selengkapnya 
									
  


URL: https://www2.trunojoyo.ac.id/isotonic-bittern-bukti-nyata-hilirisasi-garam-madura-hasil-kolaborasi-prodi-psda-dan-lppm-utm/ | Teks: 
 



								18 Sep 2025							


									Headlines									

“Isotonic Bittern” Bukti Nyata Hilirisasi Garam Madura Hasil Kolaborasi Prodi PSDA dan LPPM UTM


URL: https://www2.trunojoyo.ac.id/pelatihan-peer-counselor-universitas-trunojoyo-madura-ciptakan-ruang-aman-dan-sehat-bagi-mahasiswa/ | Teks: 
 



								18 Sep 2025							


									Kegiatan									

PELATIHAN PEER COUNSELOR: UNIVERSITAS TRUNOJOYO MADURA CIPTAKAN RUANG AMAN DAN SEHAT BAGI MAHASISWA


URL: https://www2.trunojoyo.ac.id/pascasarjana-utm-gelar-stadium-general-perkuat-komitmen-cetak-sdm-unggul-dalam-riset-inovasi-dan-teknologi/ | Teks: 
 



								17 Sep 2025							


									Headlines									

Pascasarjana UTM Gelar Stadium General: Perkuat Komitmen Cetak SDM Unggul dalam Riset, Inovasi, dan Teknologi


URL: https://www2.trunojoyo.ac.id/keanekaragaman-hayati-perairan-sampang-jadi-fokus-riset-utm-dan-petronas-melalui-program-fish-shelter/ | Teks: 
 



								23 Sep 2025							


									Berita									

KEANEKARAGAMAN HAYATI PERAIRAN SAMPANG JADI FOKUS RISET UTM DAN PETRONAS MELALUI PROGRAM FISH SHELTER


URL: https://www2.trunojoyo.ac.id/utm-mantapkan-komitmen-layanan-publik-melalui-audit-iso-90012015/ | Teks: 
 



								19 Sep 2025							


									Berita									

UTM Mantapkan Komitmen Layanan Publik Melalui Audit ISO 9001:2015


URL: https://www2.trunojoyo.ac.id/utm-kenalkan-konsep-pemrograman-kepada-siswa-sd-melalui-pelatihan-unplugged-coding-bersama-mahasiswa-universitas-palacky/ | Teks: 
 



								19 Sep 2025							


									Berita									

UTM KENALKAN KONSEP PEMROGRAMAN KEPADA SISWA SD MELALUI PELATIHAN UNPLUGGED CODING BERSAMA MAHASISWA UNIVERSITAS PALACKY


URL: https://www2.trunojoyo.ac.id/index.php/halber/ | Teks: 
More 
									
  


URL: https://www2.trunojoyo.ac.id/pengumuman-pengembalian-kelebihan-pembayaran-uang-kuliah-tunggalbagi-mahasiswa-semester-gasal-tahun-akademik-2025-2026/ | Teks: 
 



								23 Sep 2025							


									Headlines									

PENGUMUMAN PENGEMBALIAN KELEBIHAN PEMBAYARAN UANG KULIAH TUNGGALBAGI MAHASISWA SEMESTER GASAL TAHUN AKADEMIK 2025/2026


URL: https://www2.trunojoyo.ac.id/pengumuman-penerima-bantuan-keringanan-uang-kuliah-tunggal-bagi-mahasiswa-universitas-trunojoyo-madura-berupa-pembebasan-dan-uang-kuliah-tunggal-50-semester-gasal-tahap-ii-tahun-akademik-2025-2026/ | Teks: 
 



								20 Agu 2025							


									Headlines									

PENGUMUMAN PENERIMA BANTUAN KERINGANAN UANG KULIAH TUNGGAL BAGI MAHASISWA UNIVERSITAS TRUNOJOYO MADURA BERUPA PEMBEBASAN DAN  UANG KULIAH TUNGGAL 50% SEMESTER GASAL TAHAP II  TAHUN AKADEMIK 2025/2026


URL: https://www2.trunojoyo.ac.id/pengumuman-jadwal-wisuda-xxxix-tahun-2025/ | Teks: 
 



								19 Agu 2025							


									Headlines									

PENGUMUMAN JADWAL WISUDA XXXIX TAHUN 2025


URL: https://www2.trunojoyo.ac.id/index.php/halinformasi/ | Teks: 
More 
									
  


URL: https://www2.trunojoyo.ac.id/isotonic-bittern-bukti-nyata-hilirisasi-garam-madura-hasil-kolaborasi-prodi-psda-dan-lppm-utm/ | Teks: 
 



								18 Sep 2025							


									Headlines									

“Isotonic Bittern” Bukti Nyata Hilirisasi Garam Madura Hasil Kolaborasi Prodi PSDA dan LPPM UTM


URL: https://www2.trunojoyo.ac.id/pelatihan-peer-counselor-universitas-trunojoyo-madura-ciptakan-ruang-aman-dan-sehat-bagi-mahasiswa/ | Teks: 
 



								18 Sep 2025							


									Kegiatan									

PELATIHAN PEER COUNSELOR: UNIVERSITAS TRUNOJOYO MADURA CIPTAKAN RUANG AMAN DAN SEHAT BAGI MAHASISWA


URL: https://www2.trunojoyo.ac.id/pascasarjana-utm-gelar-stadium-general-perkuat-komitmen-cetak-sdm-unggul-dalam-riset-inovasi-dan-teknologi/ | Teks: 
 



								17 Sep 2025							


									Headlines									

Pascasarjana UTM Gelar Stadium General: Perkuat Komitmen Cetak SDM Unggul dalam Riset, Inovasi, dan Teknologi


URL: https://www2.trunojoyo.ac.id/index.php/halaman-kegiatan/ | Teks: 
More 
									
  


URL: https://www.youtube.com/watch?v=2A48_GKuX1o | Teks: 
URL: https://www2.trunojoyo.ac.id/index.php/data-kerjasama/ | Teks: 
Data Lengkap 
									
  


URL: https://www2.trunojoyo.ac.id/teams/safi/ | Teks: 
URL: # | Teks: 
URL: # | Teks: 
URL: # | Teks: 
URL: https://www2.trunojoyo.ac.id/teams/safi/ | Teks: 
											
											Prof. Dr. Safi’, S.H., M.H.
URL: # | Teks: 
URL: # | Teks: 
URL: # | Teks: 
URL: https://www2.trunojoyo.ac.id/teams/lawrence-peter/ | Teks: 
URL: # | Teks: 
URL: # | Teks: 
URL: # | Teks: 
URL: https://www2.trunojoyo.ac.id/teams/lawrence-peter/ | Teks: 
											
											Prof. Dr. Achmad Amzeri, S.P., M.P.
URL: # | Teks: 
URL: # | Teks: 
URL: # | Teks: 
URL: https://www2.trunojoyo.ac.id/teams/bradley-roy/ | Teks: 
URL: # | Teks: 
URL: # | Teks: 
URL: # | Teks: 
URL: https://www2.trunojoyo.ac.id/teams/bradley-roy/ | Teks: 
											
											Ir. Ari Basuki, S.T., M.T.
URL: # | Teks: 
URL: # | Teks: 
URL: # | Teks: 
URL: https://www2.trunojoyo.ac.id/teams/john-maxwell/ | Teks: 
URL: # | Teks: 
URL: # | Teks: 
URL: # | Teks: 
URL: https://www2.trunojoyo.ac.id/teams/john-maxwell/ | Teks: 
											
											Surokim, S.Sos., S.H., M.Si.
URL: # | Teks: 
URL: # | Teks: 
URL: # | Teks: 
URL: https://siakad.trunojoyo.ac.id/ | Teks: SIAKAD
URL: https://mbkm.trunojoyo.ac.id/ | Teks: SI MBKM
URL: https://simpelmas.trunojoyo.ac.id/ | Teks: SIMPELMAS
URL: # | Teks: SIMKEU
URL: # | Teks: SIMPEG
URL: # | Teks: ASN DIGITAL
URL: https://a002.utm.ac.id/ | Teks: e – PRESENSI
URL: https://a001.utm.ac.id/ | Teks: e – RPS
URL: https://my.utm.ac.id/ | Teks: myUTM
URL: mailto:humas@trunojoyo.ac.id | Teks: humas@trunojoyo.ac.id
URL: https://www.instagram.com/universitastrunojoyomadura | Teks: 
Instagram
 
URL: http://youtube.com/@universitastrunojoyomadura2433 | Teks: 
Youtube
 
URL: https://www.facebook.com/profile.php?id=61568220782221&amp;sk=about | Teks: 
Facebook-f
 
URL: https://www.tiktok.com/@univ.trunojoyomadura?is_from_webapp=1&amp;sender_device=pc | Teks: 
Tiktok
 
URL: https://www.threads.net/@universitastrunojoyomadura | Teks: 
Threads
 
URL: https://x.com/utmOfficial | Teks: 
X-twitter
 
</pre></div>
</div>
</div>
</div>
</section>
<section id="kode-untuk-melakukan-web-scraping-pada-situs-pta-trunojoyo-ac-id-untuk-mengumpulkan-semua-judul-beserta-data-pendukungnya-dengan-fokus-hanya-pada-entri-yang-berasal-dari-fakultas-teknik">
<h1>Kode untuk melakukan web scraping pada situs <a class="reference external" href="http://pta.trunojoyo.ac.id">pta.trunojoyo.ac.id</a> untuk mengumpulkan semua judul beserta data pendukungnya, dengan fokus hanya pada entri yang berasal dari Fakultas Teknik.<a class="headerlink" href="#kode-untuk-melakukan-web-scraping-pada-situs-pta-trunojoyo-ac-id-untuk-mengumpulkan-semua-judul-beserta-data-pendukungnya-dengan-fokus-hanya-pada-entri-yang-berasal-dari-fakultas-teknik" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>requests
<span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>beautifulsoup4
<span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">bs4</span><span class="w"> </span><span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: requests in /usr/local/lib/python3.12/dist-packages (2.32.4)
Requirement already satisfied: charset_normalizer&lt;4,&gt;=2 in /usr/local/lib/python3.12/dist-packages (from requests) (3.4.3)
Requirement already satisfied: idna&lt;4,&gt;=2.5 in /usr/local/lib/python3.12/dist-packages (from requests) (3.10)
Requirement already satisfied: urllib3&lt;3,&gt;=1.21.1 in /usr/local/lib/python3.12/dist-packages (from requests) (2.5.0)
Requirement already satisfied: certifi&gt;=2017.4.17 in /usr/local/lib/python3.12/dist-packages (from requests) (2025.8.3)
Requirement already satisfied: beautifulsoup4 in /usr/local/lib/python3.12/dist-packages (4.13.5)
Requirement already satisfied: soupsieve&gt;1.2 in /usr/local/lib/python3.12/dist-packages (from beautifulsoup4) (2.8)
Requirement already satisfied: typing-extensions&gt;=4.0.0 in /usr/local/lib/python3.12/dist-packages (from beautifulsoup4) (4.15.0)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Impor Library</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">bs4</span><span class="w"> </span><span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="k">def</span><span class="w"> </span><span class="nf">ptaa</span><span class="p">():</span>
    <span class="n">daftar_prodi</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;Teknik Industri&quot;</span><span class="p">:</span> <span class="s2">&quot;9&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Teknik Informatika&quot;</span><span class="p">:</span> <span class="s2">&quot;10&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Manajemen Informatika&quot;</span><span class="p">:</span> <span class="s2">&quot;11&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Teknik Multimedia Dan Jaringan&quot;</span><span class="p">:</span> <span class="s2">&quot;19&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Mekatronika&quot;</span><span class="p">:</span> <span class="s2">&quot;20&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Teknik Elektro&quot;</span><span class="p">:</span> <span class="s2">&quot;23&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Sistem Informasi&quot;</span><span class="p">:</span> <span class="s2">&quot;31&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Teknik Mesin&quot;</span><span class="p">:</span> <span class="s2">&quot;32&quot;</span><span class="p">,</span>
        <span class="s2">&quot;Teknik Mekatronika&quot;</span><span class="p">:</span> <span class="s2">&quot;33&quot;</span>
    <span class="p">}</span>

    <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;penulis&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s2">&quot;judul&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s2">&quot;pembimbing_pertama&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s2">&quot;pembimbing_kedua&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s2">&quot;abstrak&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s2">&quot;prodi&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s2">&quot;abstrak_inggris&quot;</span><span class="p">:</span> <span class="p">[]</span>
    <span class="p">}</span>

    <span class="k">for</span> <span class="n">prodi_nama</span><span class="p">,</span> <span class="n">prodi_id</span> <span class="ow">in</span> <span class="n">daftar_prodi</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
            <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;https://pta.trunojoyo.ac.id/c_search/byprod/</span><span class="si">{</span><span class="n">prodi_id</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span>

            <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
            <span class="n">request</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">content</span>
            <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>
            <span class="n">jurnals</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;li[data-cat=&quot;#luxury&quot;]&#39;</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">jurnal</span> <span class="ow">in</span> <span class="n">jurnals</span><span class="p">:</span>
                <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">jurnal</span><span class="o">.</span><span class="n">select_one</span><span class="p">(</span><span class="s1">&#39;a.gray.button&#39;</span><span class="p">)[</span><span class="s1">&#39;href&#39;</span><span class="p">])</span>
                <span class="n">soup1</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>
                <span class="n">isi</span> <span class="o">=</span> <span class="n">soup1</span><span class="o">.</span><span class="n">select_one</span><span class="p">(</span><span class="s1">&#39;div#content_journal&#39;</span><span class="p">)</span>
                <span class="n">judul</span> <span class="o">=</span> <span class="n">isi</span><span class="o">.</span><span class="n">select_one</span><span class="p">(</span><span class="s1">&#39;a.title&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
                <span class="n">penulis</span> <span class="o">=</span> <span class="n">isi</span><span class="o">.</span><span class="n">select_one</span><span class="p">(</span><span class="s1">&#39;span:contains(&quot;Penulis&quot;)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; : &#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">pembimbing_pertama</span> <span class="o">=</span> <span class="n">isi</span><span class="o">.</span><span class="n">select_one</span><span class="p">(</span><span class="s1">&#39;span:contains(&quot;Dosen Pembimbing I&quot;)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; : &#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">pembimbing_kedua</span> <span class="o">=</span> <span class="n">isi</span><span class="o">.</span><span class="n">select_one</span><span class="p">(</span><span class="s1">&#39;span:contains(&quot;Dosen Pembimbing II&quot;)&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; :&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>

                <span class="n">semua_abstrak</span> <span class="o">=</span> <span class="n">isi</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s1">&#39;p[align=&quot;justify&quot;]&#39;</span><span class="p">)</span>
                <span class="n">abstrak</span> <span class="o">=</span> <span class="n">semua_abstrak</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">semua_abstrak</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="s2">&quot;Tidak tersedia&quot;</span>
                <span class="n">abstrak_inggris</span> <span class="o">=</span> <span class="n">semua_abstrak</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">text</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">semua_abstrak</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="s2">&quot;Tidak tersedia&quot;</span>

                <span class="n">data</span><span class="p">[</span><span class="s2">&quot;penulis&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">penulis</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
                <span class="n">data</span><span class="p">[</span><span class="s2">&quot;judul&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">judul</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
                <span class="n">data</span><span class="p">[</span><span class="s2">&quot;pembimbing_pertama&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pembimbing_pertama</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
                <span class="n">data</span><span class="p">[</span><span class="s2">&quot;pembimbing_kedua&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pembimbing_kedua</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
                <span class="n">data</span><span class="p">[</span><span class="s2">&quot;abstrak&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">abstrak</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
                <span class="n">data</span><span class="p">[</span><span class="s2">&quot;prodi&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">prodi_nama</span><span class="p">)</span>
                <span class="n">data</span><span class="p">[</span><span class="s2">&quot;abstrak_inggris&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">abstrak_inggris</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;pta_final_minimal.csv&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ptaa</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/usr/local/lib/python3.12/dist-packages/soupsieve/css_parser.py:876: FutureWarning: The pseudo class &#39;:contains&#39; is deprecated, &#39;:-soup-contains&#39; should be used moving forward.
  warnings.warn(  # noqa: B028
</pre></div>
</div>
<div class="output text_html">
  <div id="df-67f83688-e307-498f-8d4a-18ee87ecd40f" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>penulis</th>
      <th>judul</th>
      <th>pembimbing_pertama</th>
      <th>pembimbing_kedua</th>
      <th>abstrak</th>
      <th>prodi</th>
      <th>abstrak_inggris</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Siliwangi Fitra Rachmawanto S.T.</td>
      <td>OPTIMASI PEMILIHAN PORTOFOLIO SAHAM PERUSAHAAN...</td>
      <td>Heri Awalul Ilhamsah S.T., M.T.</td>
      <td>Retno Indriartiningtias S.T., M.T.</td>
      <td>Portofolio adalah sekumpulan saham yang dimili...</td>
      <td>Teknik Industri</td>
      <td>Portofolio is a collection of stock owned by i...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>AHMAD MAS'UD</td>
      <td>PERANCANGAN TATA LETAK FASILITAS LANTAI PRODUK...</td>
      <td>SABARUDIN AKHMAD, S.T., M.T.</td>
      <td>SUGENG PURWOKO, S.T., M.T.</td>
      <td>PT. ABC merupakan perusahaan yang bergerak dib...</td>
      <td>Teknik Industri</td>
      <td>PT. ABC is a company engaged in the manufactur...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Yulianto Fauzanta</td>
      <td>PERUMUSAN STRATEGI BISNIS UD. BUDI JAYA BANGKA...</td>
      <td>Fitri Agustina, S.T., M.T</td>
      <td>Retno Indriartiningtias, S.T., M.T</td>
      <td>Bangkalan merupakan salah satu kabupaten yang ...</td>
      <td>Teknik Industri</td>
      <td>Bangkalan is one of the districts that have th...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>M Mundir Muhlisin</td>
      <td>USULAN PERBAIKAN UTILITAS RESOURCES PADA LANTA...</td>
      <td>Mu'alim ST MT</td>
      <td>Sugeng Purwoko ST MT</td>
      <td>Simulasi adalah duplikasi atau abstraksi dari ...</td>
      <td>Teknik Industri</td>
      <td>Simulation is a duplication or abstraction of ...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Muhibbin</td>
      <td>Peningkatan Kepuasan Masyarakat Terhadap Pelay...</td>
      <td>Rahmad Hidayat</td>
      <td>Retno Indriartiningtias</td>
      <td>Kepuasan adalah tingkat perasaan seseorang ter...</td>
      <td>Teknik Industri</td>
      <td>Satisfaction is feeling level of someone to se...</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>99</th>
      <td>MOH TAUFIK HIDAYAT</td>
      <td>ALAT PENGGULUNG UNTUK MENGATUR KERAPATAN KERTA...</td>
      <td>FAIKUL UMAM., S.KOM., M.T</td>
      <td>SRI WAHYUNI., S.KOM., M.T</td>
      <td>ABSTRAK\n\nKertas merupakan kebutuhan yang dib...</td>
      <td>Teknik Mekatronika</td>
      <td>ABSTRACT\n\nPaper is a necessity needed by hum...</td>
    </tr>
    <tr>
      <th>100</th>
      <td>Alvian Ainun Fajrih</td>
      <td>Optimasi Penguapan Air Laut Tua Pada Rumah Kaca</td>
      <td>Hairil Budiarto, S.T., M.T.</td>
      <td>Faikul Umam, S.Kom., M.T.</td>
      <td>Pembuatan garam di Madura umumnya dilakukan de...</td>
      <td>Teknik Mekatronika</td>
      <td>Making salt in Madura is generally done by hea...</td>
    </tr>
    <tr>
      <th>101</th>
      <td>ADINDA DEBTIANA DWIKA HILDA</td>
      <td>KESTABILAN KECEPATAN MOBILE ROBOT PADA LINTASA...</td>
      <td>Faikul Umam, S.Kom., M.T.</td>
      <td>Sri Wahyuni, S.Kom., M.T.</td>
      <td>Mobile robot merupakan salah satu kategori rob...</td>
      <td>Teknik Mekatronika</td>
      <td>Mobile robot is one of the robot categories th...</td>
    </tr>
    <tr>
      <th>102</th>
      <td>Nafizatul Jamilah</td>
      <td>Rancang Bangun Sistem Otomasi Robot Pengecatan...</td>
      <td>Hairil Budiarto, S.T., M.T</td>
      <td>Sri Wahyuni, S.Kom., M.T</td>
      <td>ABSTRAK\n\nMarka jalan raya adalah sebuah tand...</td>
      <td>Teknik Mekatronika</td>
      <td>ABSTRACT\n\nA highway mark is a sign that can ...</td>
    </tr>
    <tr>
      <th>103</th>
      <td>Agus Salim</td>
      <td>Sistem Kestabilan Gerak Robot Omnidirection Me...</td>
      <td>Vivi Tri W, S.Kom., M.T</td>
      <td>Ahmad Sahru R, S.Kom., M.T</td>
      <td>Di era globalisasi ini sangatlah mungkin tekno...</td>
      <td>Teknik Mekatronika</td>
      <td>In this globalization era, it is very possible...</td>
    </tr>
  </tbody>
</table>
<p>104 rows × 7 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-67f83688-e307-498f-8d4a-18ee87ecd40f')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-67f83688-e307-498f-8d4a-18ee87ecd40f button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-67f83688-e307-498f-8d4a-18ee87ecd40f');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-135ee3f6-56b6-44fe-9728-e866d87c5945">
      <button class="colab-df-quickchart" onclick="quickchart('df-135ee3f6-56b6-44fe-9728-e866d87c5945')"
                title="Suggest charts"
                style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-135ee3f6-56b6-44fe-9728-e866d87c5945 button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

    </div>
  </div>
</div></div>
</div>
</section>
<section id="kode-untuk-scraping-berita-dari-sebuah-web-berita">
<h1>kode untuk scraping berita dari sebuah web berita<a class="headerlink" href="#kode-untuk-scraping-berita-dari-sebuah-web-berita" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">bs4</span><span class="w"> </span><span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">json</span>

<span class="k">def</span><span class="w"> </span><span class="nf">scrap_semua_berita_liputan6</span><span class="p">(</span><span class="n">max_articles</span><span class="o">=</span><span class="mi">200</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Mengambil berita dari indeks Liputan6.com hingga jumlah artikel maksimal tercapai.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">base_url</span> <span class="o">=</span> <span class="s2">&quot;https://www.liputan6.com/indeks&quot;</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;User-Agent&#39;</span><span class="p">:</span> <span class="s1">&#39;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36&#39;</span>
    <span class="p">}</span>

    <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s2">&quot;judul_berita&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s2">&quot;kategori_berita&quot;</span><span class="p">:</span> <span class="p">[],</span>
        <span class="s2">&quot;isi_berita&quot;</span><span class="p">:</span> <span class="p">[]</span>
    <span class="p">}</span>

    <span class="n">id_counter</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">page_counter</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="c1"># --- PERUBAHAN UTAMA: Loop terus berjalan selama target artikel belum tercapai ---</span>
    <span class="k">while</span> <span class="n">id_counter</span> <span class="o">&lt;=</span> <span class="n">max_articles</span><span class="p">:</span>
        <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">base_url</span><span class="si">}</span><span class="s2">?page=</span><span class="si">{</span><span class="n">page_counter</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Mengambil data dari halaman: </span><span class="si">{</span><span class="n">page_counter</span><span class="si">}</span><span class="s2"> (Total artikel terkumpul: </span><span class="si">{</span><span class="n">id_counter</span><span class="o">-</span><span class="mi">1</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
            <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>
            <span class="n">list_artikel</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;article.articles--rows--item&quot;</span><span class="p">)</span>

            <span class="c1"># Berhenti jika halaman sudah tidak mengandung artikel (halaman terakhir)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">list_artikel</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tidak ada artikel lagi ditemukan. Proses berhenti.&quot;</span><span class="p">)</span>
                <span class="k">break</span>

            <span class="k">for</span> <span class="n">artikel</span> <span class="ow">in</span> <span class="n">list_artikel</span><span class="p">:</span>
                <span class="c1"># Berhenti jika jumlah artikel sudah mencapai batas maksimal</span>
                <span class="k">if</span> <span class="n">id_counter</span> <span class="o">&gt;</span> <span class="n">max_articles</span><span class="p">:</span>
                    <span class="k">break</span>

                <span class="k">try</span><span class="p">:</span>
                    <span class="n">link_detail_tag</span> <span class="o">=</span> <span class="n">artikel</span><span class="o">.</span><span class="n">select_one</span><span class="p">(</span><span class="s2">&quot;a.articles--rows--item__title-link&quot;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">link_detail_tag</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">link_detail_tag</span><span class="o">.</span><span class="n">has_attr</span><span class="p">(</span><span class="s1">&#39;href&#39;</span><span class="p">):</span> <span class="k">continue</span>

                    <span class="n">link_detail</span> <span class="o">=</span> <span class="n">link_detail_tag</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">link_detail</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;https://www.liputan6.com&quot;</span><span class="p">):</span> <span class="k">continue</span>

                    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">link_detail</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>
                    <span class="n">soup_detail</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span>

                    <span class="n">judul</span> <span class="o">=</span> <span class="s2">&quot;Judul tidak ditemukan&quot;</span>
                    <span class="n">kategori</span> <span class="o">=</span> <span class="s2">&quot;Kategori tidak ditemukan&quot;</span>
                    <span class="n">script_tag</span> <span class="o">=</span> <span class="n">soup_detail</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;script&quot;</span><span class="p">,</span> <span class="n">string</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;window.kmklabs.gtm&quot;</span><span class="p">))</span>

                    <span class="k">if</span> <span class="n">script_tag</span><span class="p">:</span>
                        <span class="n">script_content</span> <span class="o">=</span> <span class="n">script_tag</span><span class="o">.</span><span class="n">string</span>
                        <span class="n">match_title</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&quot;articleTitle&quot;:&quot;(.*?)&quot;&#39;</span><span class="p">,</span> <span class="n">script_content</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">match_title</span><span class="p">:</span>
                            <span class="n">judul</span> <span class="o">=</span> <span class="n">match_title</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;unicode-escape&#39;</span><span class="p">)</span>

                        <span class="n">match_cat</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;window\.kmklabs\.category\s*=\s*({.*?});&#39;</span><span class="p">,</span> <span class="n">script_content</span><span class="p">)</span>
                        <span class="k">if</span> <span class="n">match_cat</span><span class="p">:</span>
                            <span class="n">cat_data_str</span> <span class="o">=</span> <span class="n">match_cat</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
                            <span class="k">try</span><span class="p">:</span>
                                <span class="n">kategori</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">cat_data_str</span><span class="p">)</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;name&quot;</span><span class="p">,</span> <span class="s2">&quot;Kategori tidak ditemukan&quot;</span><span class="p">)</span>
                            <span class="k">except</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONDecodeError</span><span class="p">:</span> <span class="k">pass</span>

                    <span class="n">isi_container</span> <span class="o">=</span> <span class="n">soup_detail</span><span class="o">.</span><span class="n">select_one</span><span class="p">(</span><span class="s2">&quot;div.article-content-body__item-content&quot;</span><span class="p">)</span>
                    <span class="n">isi_berita</span> <span class="o">=</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">p</span><span class="o">.</span><span class="n">get_text</span><span class="p">(</span><span class="n">strip</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">isi_container</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s2">&quot;p&quot;</span><span class="p">)])</span> <span class="k">if</span> <span class="n">isi_container</span> <span class="k">else</span> <span class="s2">&quot;Isi berita tidak ditemukan.&quot;</span>

                    <span class="k">if</span> <span class="n">judul</span> <span class="o">!=</span> <span class="s2">&quot;Judul tidak ditemukan&quot;</span><span class="p">:</span>
                        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">id_counter</span><span class="p">)</span>
                        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;judul_berita&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">judul</span><span class="p">)</span>
                        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;kategori_berita&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">kategori</span><span class="p">)</span>
                        <span class="n">data</span><span class="p">[</span><span class="s2">&quot;isi_berita&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">isi_berita</span><span class="p">)</span>
                        <span class="n">id_counter</span> <span class="o">+=</span> <span class="mi">1</span>

                    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
                <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
                    <span class="k">continue</span>

            <span class="n">page_counter</span> <span class="o">+=</span> <span class="mi">1</span> <span class="c1"># Pindah ke halaman berikutnya</span>
            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">break</span>

    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;semua_berita_liputan6.csv&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">scrap_semua_berita_liputan6</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Mengambil data dari halaman: 1 (Total artikel terkumpul: 0)
Mengambil data dari halaman: 2 (Total artikel terkumpul: 13)
Mengambil data dari halaman: 3 (Total artikel terkumpul: 27)
Tidak ada artikel lagi ditemukan. Proses berhenti.
</pre></div>
</div>
<div class="output text_html">
  <div id="df-d37d2fab-7770-41ee-a7eb-26ad84ec064f" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>judul_berita</th>
      <th>kategori_berita</th>
      <th>isi_berita</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>penjelasan-dasco-soal-beda-tugas-tim-transform...</td>
      <td>Peristiwa</td>
      <td>Liputan6.com, Jakarta -Wakil Ketua DPR RI Sufm...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>kpk-tangkap-dirut-pt-wahana-menas-erwin-terkai...</td>
      <td>Peristiwa</td>
      <td>Liputan6.com, Jakarta-Komisi Pemberantasan Kor...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>prabowo-dan-pm-kanada-carney-bahas-penguatan-k...</td>
      <td>Peristiwa</td>
      <td>Liputan6.com, Jakarta -Presiden Prabowo Subian...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>polri-bongkar-sindikat-pengiriman-tki-ilegal-d...</td>
      <td>Peristiwa</td>
      <td>Liputan6.com, JakartaUpaya penyelundupan 19Pek...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>prabowo-tegaskan-komitmen-kerja-sama-indonesia...</td>
      <td>Peristiwa</td>
      <td>Liputan6.com, Jakarta -Presiden Prabowo Subian...</td>
    </tr>
    <tr>
      <th>5</th>
      <td>6</td>
      <td>mencari-penyebab-keracunan-mbg-sampai-ada-yang...</td>
      <td>Peristiwa</td>
      <td>Liputan6.com, Jakarta-Korbankeracunanprogram M...</td>
    </tr>
    <tr>
      <th>6</th>
      <td>7</td>
      <td>top-3-news-duduk-satu-meja-dengan-prabowo-dan-...</td>
      <td>Peristiwa</td>
      <td>Liputan6.com, Jakarta -Presiden Prabowo Subian...</td>
    </tr>
    <tr>
      <th>7</th>
      <td>8</td>
      <td>bmkg-prediksi-mayoritas-cuaca-indonesia-diguyu...</td>
      <td>Peristiwa</td>
      <td>Liputan6.com, Jakarta -Badan Meteorologi, Klim...</td>
    </tr>
    <tr>
      <th>8</th>
      <td>9</td>
      <td>momen-hangat-diaspora-sambut-kedatangan-presid...</td>
      <td>Peristiwa</td>
      <td>Liputan6.com, Jakarta -Momen hangat dan antusi...</td>
    </tr>
    <tr>
      <th>9</th>
      <td>10</td>
      <td>ini-penyebab-jakarta-macet-parah-pada-rabu-mal...</td>
      <td>Peristiwa</td>
      <td>Liputan6.com, Jakarta -Penumpang bus TransJaka...</td>
    </tr>
    <tr>
      <th>10</th>
      <td>11</td>
      <td>presiden-prabowo-ke-ottawa-indonesia-dan-kanad...</td>
      <td>Peristiwa</td>
      <td>Liputan6.com, Jakarta -Dari Amerika Serikat, P...</td>
    </tr>
    <tr>
      <th>11</th>
      <td>12</td>
      <td>cek-lokasi-sim-keliling-di-jakarta-hari-ini-ka...</td>
      <td>Peristiwa</td>
      <td>Liputan6.com, Jakarta -Direktorat Lalu Lintas ...</td>
    </tr>
    <tr>
      <th>12</th>
      <td>13</td>
      <td>parpol-non-parlemen-bentuk-sekber-dukung-hapus...</td>
      <td>Politik</td>
      <td>Liputan6.com, Jakarta -Ketua umum atau Ketum P...</td>
    </tr>
    <tr>
      <th>13</th>
      <td>14</td>
      <td>kiprah-prabowo-di-pbb-yang-tuai-pujian</td>
      <td>Peristiwa</td>
      <td>Liputan6.com, Jakarta -Kiprah Presiden RIPrabo...</td>
    </tr>
    <tr>
      <th>14</th>
      <td>15</td>
      <td>tanggal-25-september-diperingati-sebagai-hari-...</td>
      <td>Peristiwa</td>
      <td>Liputan6.com, Jakarta -Tanggal 25 September di...</td>
    </tr>
    <tr>
      <th>15</th>
      <td>16</td>
      <td>bmkg-cuaca-jakarta-kamis-25-september-2025-dip...</td>
      <td>Peristiwa</td>
      <td>Liputan6.com, JakartaBadan Meteorologi, Klimat...</td>
    </tr>
    <tr>
      <th>16</th>
      <td>17</td>
      <td>keracunan-mbg-di-banyak-tempat-ada-apa</td>
      <td>Peristiwa</td>
      <td>Liputan6.com, JakartaKasus dugaan keracunan di...</td>
    </tr>
    <tr>
      <th>17</th>
      <td>18</td>
      <td>prabowo-dan-presiden-fifa-bertemu-komitmen-kol...</td>
      <td>Peristiwa</td>
      <td>Liputan6.com, Jakarta -Presiden Prabowo Subian...</td>
    </tr>
    <tr>
      <th>18</th>
      <td>19</td>
      <td>pdip-puji-pidato-prabowo-di-pbb-sangat-wakili-...</td>
      <td>Peristiwa</td>
      <td>Liputan6.com, Jakarta -SekjenPDIPHasto Kristiy...</td>
    </tr>
    <tr>
      <th>19</th>
      <td>20</td>
      <td>dasco-pastikan-ruu-perampasan-aset-tidak-berta...</td>
      <td>Peristiwa</td>
      <td>Liputan6.com, Jakarta -DPR RI tengah menggodok...</td>
    </tr>
    <tr>
      <th>20</th>
      <td>21</td>
      <td>penerima-bsu-september-2025-cek-status-penyalu...</td>
      <td>Peristiwa</td>
      <td>Liputan6.com, Jakarta -Pemerintah Indonesia se...</td>
    </tr>
    <tr>
      <th>21</th>
      <td>22</td>
      <td>cak-imin-ajak-publik-tunggu-kpk-umumkan-tersan...</td>
      <td>Peristiwa</td>
      <td>Liputan6.com, Jakarta -Ketua Umum Dewan Pimpin...</td>
    </tr>
    <tr>
      <th>22</th>
      <td>23</td>
      <td>kasus-djka-kpk-masih-dalami-hasil-pemeriksaan-...</td>
      <td>Peristiwa</td>
      <td>Liputan6.com, Jakarta -Komisi Pemberantasan Ko...</td>
    </tr>
    <tr>
      <th>23</th>
      <td>24</td>
      <td>gerindra-apbn-2026-jadi-katalisator-pertumbuha...</td>
      <td>Peristiwa</td>
      <td>Liputan6.com, Jakarta -Rapat Paripurna ke-5 DP...</td>
    </tr>
    <tr>
      <th>24</th>
      <td>25</td>
      <td>tinggalkan-new-york-prabowo-lanjut-lawatan-ke-...</td>
      <td>Peristiwa</td>
      <td>Liputan6.com, JakartaPresidenPrabowo Subiantom...</td>
    </tr>
    <tr>
      <th>25</th>
      <td>26</td>
      <td>gerindra-pidato-bersejarah-prabowo-di-pbb-indo...</td>
      <td>Peristiwa</td>
      <td>Liputan6.com, Jakarta -Ketua Fraksi PartaiGeri...</td>
    </tr>
    <tr>
      <th>26</th>
      <td>27</td>
      <td>warga-depok-bubarkan-puluhan-pelajar-bermotor-...</td>
      <td>Peristiwa</td>
      <td>Liputan6.com, Jakarta -Sebuah video viral di m...</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-d37d2fab-7770-41ee-a7eb-26ad84ec064f')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-d37d2fab-7770-41ee-a7eb-26ad84ec064f button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-d37d2fab-7770-41ee-a7eb-26ad84ec064f');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-58f34874-65fc-4f75-88ea-76bb85bab84f">
      <button class="colab-df-quickchart" onclick="quickchart('df-58f34874-65fc-4f75-88ea-76bb85bab84f')"
                title="Suggest charts"
                style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-58f34874-65fc-4f75-88ea-76bb85bab84f button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

    </div>
  </div>
</div></div>
</div>
</section>
<section id="kode-untuk-scraping-semua-link-yang-ada-di-website-dan-mencari-kembali-semua-link-yang-ada-di-dalamnya-sampai-semua-telah-tercapai">
<h1>kode untuk scraping semua link yang ada di website dan mencari kembali semua link yang ada di dalamnya sampai semua telah tercapai<a class="headerlink" href="#kode-untuk-scraping-semua-link-yang-ada-di-website-dan-mencari-kembali-semua-link-yang-ada-di-dalamnya-sampai-semua-telah-tercapai" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">bs4</span><span class="w"> </span><span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">urllib.parse</span><span class="w"> </span><span class="kn">import</span> <span class="n">urljoin</span><span class="p">,</span> <span class="n">urlparse</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">collections</span><span class="w"> </span><span class="kn">import</span> <span class="n">deque</span>

<span class="k">def</span><span class="w"> </span><span class="nf">find_all_links_pta</span><span class="p">(</span><span class="n">start_url</span><span class="p">,</span> <span class="n">max_pages</span><span class="o">=</span><span class="mi">50</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Menjelajahi situs PTA Trunojoyo dan mencatat SEMUA link unik yang ditemukan,</span>
<span class="sd">    tanpa membedakan internal atau eksternal.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">start_domain</span> <span class="o">=</span> <span class="n">urlparse</span><span class="p">(</span><span class="n">start_url</span><span class="p">)</span><span class="o">.</span><span class="n">netloc</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;page_sumber&quot;</span><span class="p">,</span> <span class="s2">&quot;link_ditemukan&quot;</span><span class="p">])</span>

    <span class="n">urls_to_visit</span> <span class="o">=</span> <span class="n">deque</span><span class="p">([</span><span class="n">start_url</span><span class="p">])</span>
    <span class="n">visited_urls</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="n">unique_links_found</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span> <span class="c1"># Menggunakan set untuk mencegah duplikasi link</span>
    <span class="n">output_data</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">link_id</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;User-Agent&#39;</span><span class="p">:</span> <span class="s1">&#39;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36&#39;</span>
    <span class="p">}</span>

    <span class="k">while</span> <span class="n">urls_to_visit</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">visited_urls</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">max_pages</span><span class="p">:</span>
        <span class="n">current_url</span> <span class="o">=</span> <span class="n">urls_to_visit</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">current_url</span> <span class="ow">in</span> <span class="n">visited_urls</span><span class="p">:</span>
            <span class="k">continue</span>

        <span class="n">visited_urls</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">current_url</span><span class="p">)</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">current_url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
            <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>
            <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s1">&#39;lxml&#39;</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">link</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">href</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
                <span class="n">href</span> <span class="o">=</span> <span class="n">link</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span>

                <span class="k">if</span> <span class="ow">not</span> <span class="n">href</span> <span class="ow">or</span> <span class="n">href</span><span class="o">.</span><span class="n">startswith</span><span class="p">((</span><span class="s1">&#39;#&#39;</span><span class="p">,</span> <span class="s1">&#39;mailto:&#39;</span><span class="p">,</span> <span class="s1">&#39;tel:&#39;</span><span class="p">,</span> <span class="s1">&#39;javascript:&#39;</span><span class="p">)):</span>
                    <span class="k">continue</span>

                <span class="n">full_url</span> <span class="o">=</span> <span class="n">urljoin</span><span class="p">(</span><span class="n">current_url</span><span class="p">,</span> <span class="n">href</span><span class="p">)</span>

                <span class="c1"># Cek jika link ini belum pernah kita temukan sebelumnya</span>
                <span class="k">if</span> <span class="n">full_url</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">unique_links_found</span><span class="p">:</span>
                    <span class="n">unique_links_found</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">full_url</span><span class="p">)</span>
                    <span class="n">output_data</span><span class="o">.</span><span class="n">append</span><span class="p">({</span>
                        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="n">link_id</span><span class="p">,</span>
                        <span class="s2">&quot;page_sumber&quot;</span><span class="p">:</span> <span class="n">current_url</span><span class="p">,</span>
                        <span class="s2">&quot;link_ditemukan&quot;</span><span class="p">:</span> <span class="n">full_url</span>
                    <span class="p">})</span>
                    <span class="n">link_id</span> <span class="o">+=</span> <span class="mi">1</span>

                <span class="c1"># Jika link adalah internal, tambahkan ke antrean untuk dijelajahi</span>
                <span class="n">link_domain</span> <span class="o">=</span> <span class="n">urlparse</span><span class="p">(</span><span class="n">full_url</span><span class="p">)</span><span class="o">.</span><span class="n">netloc</span>
                <span class="k">if</span> <span class="n">link_domain</span> <span class="o">==</span> <span class="n">start_domain</span> <span class="ow">and</span> <span class="n">full_url</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">visited_urls</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">full_url</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">urls_to_visit</span><span class="p">:</span>
                         <span class="n">urls_to_visit</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">full_url</span><span class="p">)</span>

        <span class="k">except</span> <span class="n">requests</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">RequestException</span><span class="p">:</span>
            <span class="k">continue</span>

    <span class="c1"># MEKANISME PENYIMPANAN OUTPUT</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">output_data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;page_sumber&quot;</span><span class="p">,</span> <span class="s2">&quot;link_ditemukan&quot;</span><span class="p">])</span>
    <span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;semua_link_pta.csv&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">df</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Tentukan website target</span>
<span class="n">target_website</span> <span class="o">=</span> <span class="s2">&quot;https://pta.trunojoyo.ac.id/&quot;</span>

<span class="c1"># Panggil fungsi (akan berjalan senyap)</span>
<span class="n">find_all_links_pta</span><span class="p">(</span><span class="n">target_website</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="preprocessing-isi-berita">
<h1>Preprocessing isi berita<a class="headerlink" href="#preprocessing-isi-berita" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">pandas</span> <span class="n">nltk</span> <span class="n">sastrawi</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: pandas in /usr/local/lib/python3.12/dist-packages (2.2.2)
Requirement already satisfied: nltk in /usr/local/lib/python3.12/dist-packages (3.9.1)
Requirement already satisfied: sastrawi in /usr/local/lib/python3.12/dist-packages (1.0.1)
Requirement already satisfied: numpy&gt;=1.26.0 in /usr/local/lib/python3.12/dist-packages (from pandas) (1.26.4)
Requirement already satisfied: python-dateutil&gt;=2.8.2 in /usr/local/lib/python3.12/dist-packages (from pandas) (2.9.0.post0)
Requirement already satisfied: pytz&gt;=2020.1 in /usr/local/lib/python3.12/dist-packages (from pandas) (2025.2)
Requirement already satisfied: tzdata&gt;=2022.7 in /usr/local/lib/python3.12/dist-packages (from pandas) (2025.2)
Requirement already satisfied: click in /usr/local/lib/python3.12/dist-packages (from nltk) (8.2.1)
Requirement already satisfied: joblib in /usr/local/lib/python3.12/dist-packages (from nltk) (1.5.2)
Requirement already satisfied: regex&gt;=2021.8.3 in /usr/local/lib/python3.12/dist-packages (from nltk) (2024.11.6)
Requirement already satisfied: tqdm in /usr/local/lib/python3.12/dist-packages (from nltk) (4.67.1)
Requirement already satisfied: six&gt;=1.5 in /usr/local/lib/python3.12/dist-packages (from python-dateutil&gt;=2.8.2-&gt;pandas) (1.17.0)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">nltk</span>
<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;punkt&#39;</span><span class="p">)</span>
<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;stopwords&#39;</span><span class="p">)</span>
<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;punkt_tab&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[nltk_data] Downloading package punkt to /root/nltk_data...
[nltk_data]   Package punkt is already up-to-date!
[nltk_data] Downloading package stopwords to /root/nltk_data...
[nltk_data]   Package stopwords is already up-to-date!
[nltk_data] Downloading package punkt_tab to /root/nltk_data...
[nltk_data]   Unzipping tokenizers/punkt_tab.zip.
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>-q<span class="w"> </span>sastrawi<span class="w"> </span>beautifulsoup4

<span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">bs4</span><span class="w"> </span><span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">nltk</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">Sastrawi.Stemmer.StemmerFactory</span><span class="w"> </span><span class="kn">import</span> <span class="n">StemmerFactory</span>

<span class="c1"># Fungsi untuk memeriksa &amp; mengunduh paket NLTK yang diperlukan secara otomatis</span>
<span class="k">def</span><span class="w"> </span><span class="nf">download_nltk_resources</span><span class="p">():</span>
    <span class="n">resources</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;tokenizers/punkt&quot;</span><span class="p">:</span> <span class="s2">&quot;punkt&quot;</span><span class="p">,</span> <span class="s2">&quot;corpora/stopwords&quot;</span><span class="p">:</span> <span class="s2">&quot;stopwords&quot;</span><span class="p">}</span>
    <span class="k">for</span> <span class="n">resource_path</span><span class="p">,</span> <span class="n">resource_name</span> <span class="ow">in</span> <span class="n">resources</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">nltk</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">resource_path</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;✅ Paket NLTK &quot;</span><span class="si">{</span><span class="n">resource_name</span><span class="si">}</span><span class="s1">&quot; sudah ada.&#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">LookupError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;🟡 Paket NLTK &quot;</span><span class="si">{</span><span class="n">resource_name</span><span class="si">}</span><span class="s1">&quot; tidak ditemukan. Mengunduh...&#39;</span><span class="p">)</span>
            <span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">resource_name</span><span class="p">,</span> <span class="n">quiet</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;✅ Unduhan &quot;</span><span class="si">{</span><span class="n">resource_name</span><span class="si">}</span><span class="s1">&quot; selesai.&#39;</span><span class="p">)</span>

<span class="c1"># Panggil fungsi persiapan NLTK</span>
<span class="n">download_nltk_resources</span><span class="p">()</span>

<span class="c1"># Import modul NLTK setelah diunduh</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">nltk.tokenize</span><span class="w"> </span><span class="kn">import</span> <span class="n">word_tokenize</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">nltk.corpus</span><span class="w"> </span><span class="kn">import</span> <span class="n">stopwords</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">🎉 Semua library dan paket data siap digunakan!&quot;</span><span class="p">)</span>



<span class="c1"># --- Fungsi untuk Preprocessing ---</span>
<span class="k">def</span><span class="w"> </span><span class="nf">hapus_simbol</span><span class="p">(</span><span class="n">teks</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[^a-zA-Z0-9\s]&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">teks</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">normalisasi_kata</span><span class="p">(</span><span class="n">teks</span><span class="p">,</span> <span class="n">kamus_baku</span><span class="p">):</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="n">word_tokenize</span><span class="p">(</span><span class="n">teks</span><span class="p">)</span>
    <span class="k">return</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">kamus_baku</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">token</span><span class="p">)</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">tokens</span><span class="p">])</span>

<span class="k">def</span><span class="w"> </span><span class="nf">hapus_stopword</span><span class="p">(</span><span class="n">teks</span><span class="p">,</span> <span class="n">list_stopword</span><span class="p">):</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="n">word_tokenize</span><span class="p">(</span><span class="n">teks</span><span class="p">)</span>
    <span class="k">return</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">token</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">tokens</span> <span class="k">if</span> <span class="n">token</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">list_stopword</span><span class="p">])</span>

<span class="k">def</span><span class="w"> </span><span class="nf">stemming_teks</span><span class="p">(</span><span class="n">teks</span><span class="p">,</span> <span class="n">stemmer</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">stemmer</span><span class="o">.</span><span class="n">stem</span><span class="p">(</span><span class="n">teks</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">tokenisasi</span><span class="p">(</span><span class="n">teks</span><span class="p">):</span>
    <span class="c1"># Mengembalikan list token</span>
    <span class="k">return</span> <span class="n">word_tokenize</span><span class="p">(</span><span class="n">teks</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">gabung_token</span><span class="p">(</span><span class="n">tokens</span><span class="p">):</span>
    <span class="c1"># Menggabungkan list token menjadi string</span>
    <span class="k">return</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>


<span class="c1"># @title ▶️ Jalankan Proses Utama (Scraping &amp; Preprocessing)</span>

<span class="c1"># --- Langkah 1: Scraping Data ---</span>
<span class="n">df_scraped</span> <span class="o">=</span> <span class="n">scrap_semua_berita_liputan6</span><span class="p">(</span><span class="n">max_articles</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span> <span class="c1"># Ambil 25 artikel untuk contoh</span>

<span class="k">if</span> <span class="ow">not</span> <span class="n">df_scraped</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
    <span class="c1"># --- Langkah 2: Preprocessing Data ---</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Memulai proses preprocessing data...&quot;</span><span class="p">)</span>

    <span class="c1"># Salin ke dataframe baru agar data asli tetap ada</span>
    <span class="n">df_processed</span> <span class="o">=</span> <span class="n">df_scraped</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="c1"># Siapkan alat-alat preprocessing</span>
    <span class="n">kamus_baku</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;yg&#39;</span><span class="p">:</span> <span class="s1">&#39;yang&#39;</span><span class="p">,</span> <span class="s1">&#39;gak&#39;</span><span class="p">:</span> <span class="s1">&#39;tidak&#39;</span><span class="p">,</span> <span class="s1">&#39;ga&#39;</span><span class="p">:</span> <span class="s1">&#39;tidak&#39;</span><span class="p">,</span> <span class="s1">&#39;nggak&#39;</span><span class="p">:</span> <span class="s1">&#39;tidak&#39;</span><span class="p">,</span> <span class="s1">&#39;krn&#39;</span><span class="p">:</span> <span class="s1">&#39;karena&#39;</span><span class="p">,</span> <span class="s1">&#39;utk&#39;</span><span class="p">:</span> <span class="s1">&#39;untuk&#39;</span><span class="p">,</span> <span class="s1">&#39;dgn&#39;</span><span class="p">:</span> <span class="s1">&#39;dengan&#39;</span><span class="p">,</span> <span class="s1">&#39;kpd&#39;</span><span class="p">:</span> <span class="s1">&#39;kepada&#39;</span><span class="p">}</span>
    <span class="n">list_stopword</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s1">&#39;indonesian&#39;</span><span class="p">))</span>
    <span class="n">stemmer</span> <span class="o">=</span> <span class="n">StemmerFactory</span><span class="p">()</span><span class="o">.</span><span class="n">create_stemmer</span><span class="p">()</span>

    <span class="c1"># Terapkan semua langkah preprocessing secara berurutan</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;    (1/6) Case Folding...&quot;</span><span class="p">)</span>
    <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;isi_bersih&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;isi_berita&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;    (2/6) Menghilangkan Simbol/Tanda Baca...&quot;</span><span class="p">)</span>
    <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;isi_bersih&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;isi_bersih&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">hapus_simbol</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;    (3/6) Normalisasi Kata...&quot;</span><span class="p">)</span>
    <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;isi_bersih&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;isi_bersih&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">normalisasi_kata</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">kamus_baku</span><span class="p">))</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;    (4/6) Menghapus Stopword...&quot;</span><span class="p">)</span>
    <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;isi_bersih&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;isi_bersih&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">hapus_stopword</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">list_stopword</span><span class="p">))</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;    (5/6) Stemming...&quot;</span><span class="p">)</span>
    <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;isi_bersih&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;isi_bersih&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">stemming_teks</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">stemmer</span><span class="p">))</span>

    <span class="c1"># Tokenisasi tetap menghasilkan list untuk digunakan di langkah selanjutnya jika diperlukan</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;    (6/6) Tokenisasi Akhir (dalam bentuk list)...&quot;</span><span class="p">)</span>
    <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;tokens&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;isi_bersih&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">tokenisasi</span><span class="p">)</span>

    <span class="c1"># Menggabungkan token menjadi string</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;    (7/7) Menggabungkan token menjadi string...&quot;</span><span class="p">)</span>
    <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;tokens_string&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;tokens&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">gabung_token</span><span class="p">)</span>


    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">✅ Preprocessing selesai!&quot;</span><span class="p">)</span>

    <span class="c1"># --- Langkah 3: Simpan dan Tampilkan Hasil ---</span>
    <span class="n">df_processed</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;berita_liputan6_bersih.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hasil disimpan dalam file &#39;berita_liputan6_bersih.csv&#39;&quot;</span><span class="p">)</span>

    <span class="c1"># Menampilkan perbandingan sebelum dan sesudah (seperti di tutorial referensi)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">🔎 Contoh Perbandingan Hasil Akhir (5 baris pertama):&quot;</span><span class="p">)</span>
    <span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_colwidth&#39;</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span> <span class="c1"># Agar teks berita tidak terpotong</span>
    <span class="n">display</span><span class="p">(</span><span class="n">df_processed</span><span class="p">[[</span><span class="s1">&#39;isi_berita&#39;</span><span class="p">,</span> <span class="s1">&#39;tokens&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">())</span> <span class="c1"># Menampilkan kolom string</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Tidak ada data untuk diproses. Pastikan proses scraping berhasil.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>✅ Paket NLTK &quot;punkt&quot; sudah ada.
✅ Paket NLTK &quot;stopwords&quot; sudah ada.

🎉 Semua library dan paket data siap digunakan!
Mengambil data dari halaman: 1 (Total artikel terkumpul: 0)
Mengambil data dari halaman: 2 (Total artikel terkumpul: 7)
Tidak ada artikel lagi ditemukan. Proses berhenti.

Memulai proses preprocessing data...
    (1/6) Case Folding...
    (2/6) Menghilangkan Simbol/Tanda Baca...
    (3/6) Normalisasi Kata...
    (4/6) Menghapus Stopword...
    (5/6) Stemming...
    (6/6) Tokenisasi Akhir (dalam bentuk list)...
    (7/7) Menggabungkan token menjadi string...

✅ Preprocessing selesai!
Hasil disimpan dalam file &#39;berita_liputan6_bersih.csv&#39;

🔎 Contoh Perbandingan Hasil Akhir (5 baris pertama):
</pre></div>
</div>
<div class="output text_html">
  <div id="df-e847a5e1-3491-4731-872e-6b8e6a4b5829" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>isi_berita</th>
      <th>tokens</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Liputan6.com, Jakarta -Tentara Nasional Indonesia Angkatan Darat (TNI AD) mengubah syarat usia maksimal menjadi 24 tahun dari 22 tahun serta tinggi badan minimal menjadi 158 cm dari 163 cm bagi ca...</td>
      <td>[liputan6com, jakarta, tentara, nasional, indonesia, angkat, darat, tni, ad, ubah, syarat, usia, maksimal, 24, 22, badan, minimal, 158, cm, 163, cm, calon, prajurit, bintara, tamtama, temu, jakart...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Liputan6.com, Jakarta -Anggota Komisi IX DPR RIMuazzim Akbarmengatakan, dapurMakan Bergizi Gratis(MBG) atau Satuan Pelayanan Pemenuhan Gizi (SPPG) karyawannya berisi dari satu keluarga. Bahkan, ju...</td>
      <td>[liputan6com, jakarta, anggota, komisi, ix, dpr, rimuazzim, akbarmengatakan, dapurmakan, gizi, gratismbg, satu, layan, penuh, gizi, sppg, karyawannya, isi, keluarga, capai, 47, orang, rapat, kerja...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Liputan6.com, Jakarta -Komisi Pemberantasan Korupsi (KPK) mengungkapkan kasus dugaan korupsi dalam penentuan kuota dan penyelenggaraan ibadah haji pada Kementerian Agama tahun 2023–2024 tidak meli...</td>
      <td>[liputan6com, jakarta, komisi, berantas, korupsi, kpk, duga, korupsi, tentu, kuota, selenggara, ibadah, haji, menteri, agama, 20232024, libat, jabat, kantor, wilayah, menteri, agama, kanwil, kemen...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Liputan6.com, Jakarta -Badan Meteorologi, Klimatologi, dan Geofisika (BMKG) merilis prakiraan cuaca untuk wilayah DKIJakartapada Kamis, (2/10/2025). Sejumlah wilayah diperkirakan diguyur hujan dis...</td>
      <td>[liputan6com, jakarta, badan, meteorologi, klimatologi, geofisika, bmkg, rilis, prakira, cuaca, wilayah, dkijakartapada, kamis, 2102025, wilayah, guyur, hujan, serta, petir, pagi, malam, pagi, huj...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Liputan6.com, Jakarta -Komisi Pemberantasan Korupsi (KPK) mengungkapkan telah menelusuri aliran dana kasusBank BJBkepada keluarga mantan Gubernur Jawa BaratRidwan Kamil, termasuk ke istrinya sekal...</td>
      <td>[liputan6com, jakarta, komisi, berantas, korupsi, kpk, telusur, alir, dana, kasusbank, bjbkepada, keluarga, mantan, gubernur, jawa, baratridwan, kamil, istri, anggota, dpr, ri, atalia, praratya, k...</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-e847a5e1-3491-4731-872e-6b8e6a4b5829')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-e847a5e1-3491-4731-872e-6b8e6a4b5829 button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-e847a5e1-3491-4731-872e-6b8e6a4b5829');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-024e2b7c-e80f-4063-8573-b79b29c01369">
      <button class="colab-df-quickchart" onclick="quickchart('df-024e2b7c-e80f-4063-8573-b79b29c01369')"
                title="Suggest charts"
                style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-024e2b7c-e80f-4063-8573-b79b29c01369 button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

    </div>
  </div>
</div></div>
</div>
<section id="tf-idf-dan-word-embedding-untuk-website-berita-yang-telah-di-bersihkan">
<h2>TF-IDF dan word embedding untuk website berita yang telah di bersihkan<a class="headerlink" href="#tf-idf-dan-word-embedding-untuk-website-berita-yang-telah-di-bersihkan" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Uninstall and reinstall gensim and numpy to resolve potential compatibility issues</span>
<span class="o">!</span>pip<span class="w"> </span>uninstall<span class="w"> </span>-y<span class="w"> </span>gensim<span class="w"> </span>numpy
<span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>gensim<span class="w"> </span>numpy
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.feature_extraction.text</span><span class="w"> </span><span class="kn">import</span> <span class="n">TfidfVectorizer</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="c1"># Pastikan dataframe df_processed sudah ada dari langkah preprocessing sebelumnya</span>
<span class="c1"># Jika belum, muat dari file CSV</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">df_processed</span>
<span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">df_processed</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;berita_liputan6_bersih.csv&#39;</span><span class="p">)</span>
        <span class="c1"># Mengubah kolom &#39;tokens&#39; dari string representasi list menjadi list sebenarnya</span>
        <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;tokens&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;tokens&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="nb">eval</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Memuat data dari &#39;berita_liputan6_bersih.csv&#39;&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error: File &#39;berita_liputan6_bersih.csv&#39; tidak ditemukan. Harap jalankan langkah preprocessing terlebih dahulu.&quot;</span><span class="p">)</span>
        <span class="c1"># Keluar dari eksekusi jika file tidak ditemukan</span>
        <span class="k">raise</span>

<span class="c1"># Kolom yang akan digunakan untuk TF-IDF</span>
<span class="n">kolom_teks_string</span> <span class="o">=</span> <span class="s1">&#39;tokens_string&#39;</span>

<span class="c1"># Periksa apakah kolom yang dibutuhkan ada</span>
<span class="k">if</span> <span class="n">kolom_teks_string</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">df_processed</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: Kolom &#39;</span><span class="si">{</span><span class="n">kolom_teks_string</span><span class="si">}</span><span class="s2">&#39; tidak ditemukan dalam dataframe.&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;=== Proses TF-IDF ===&quot;</span><span class="p">)</span>
    <span class="c1"># Inisialisasi TfidfVectorizer</span>
    <span class="c1"># max_features bisa disesuaikan untuk membatasi jumlah kata yang dipertimbangkan</span>
    <span class="n">tfidf_vectorizer</span> <span class="o">=</span> <span class="n">TfidfVectorizer</span><span class="p">(</span><span class="n">max_features</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span> <span class="c1"># Contoh: ambil 1000 fitur teratas</span>

    <span class="c1"># Terapkan TF-IDF pada kolom teks</span>
    <span class="c1"># Handle potential NaN values by converting to string</span>
    <span class="n">tfidf_matrix</span> <span class="o">=</span> <span class="n">tfidf_vectorizer</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">df_processed</span><span class="p">[</span><span class="n">kolom_teks_string</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">))</span>

    <span class="c1"># tfidf_matrix adalah representasi sparse matrix</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Dimensi matriks TF-IDF:&quot;</span><span class="p">,</span> <span class="n">tfidf_matrix</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

    <span class="c1"># Untuk melihat nama fitur (kata-kata)</span>
    <span class="n">nama_fitur</span> <span class="o">=</span> <span class="n">tfidf_vectorizer</span><span class="o">.</span><span class="n">get_feature_names_out</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Contoh nama fitur (kata):&quot;</span><span class="p">,</span> <span class="n">nama_fitur</span><span class="p">[:</span><span class="mi">20</span><span class="p">])</span> <span class="c1"># Tampilkan 20 kata pertama</span>

    <span class="c1"># Mengubah sparse matrix menjadi dense matrix dan membuat DataFrame</span>
    <span class="n">df_tfidf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">tfidf_matrix</span><span class="o">.</span><span class="n">todense</span><span class="p">(),</span> <span class="n">columns</span><span class="o">=</span><span class="n">nama_fitur</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Matriks TF-IDF dalam bentuk DataFrame (5 baris pertama):&quot;</span><span class="p">)</span>
    <span class="n">display</span><span class="p">(</span><span class="n">df_tfidf</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">✅ Proses TF-IDF selesai dan ditampilkan dalam bentuk tabel.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>=== Proses TF-IDF ===

Dimensi matriks TF-IDF: (7, 339)

Contoh nama fitur (kata): [&#39;110&#39; &#39;1102025&#39; &#39;12837&#39; &#39;1445&#39; &#39;158&#39; &#39;163&#39; &#39;20212023&#39; &#39;20232024&#39;
 &#39;20252030&#39; &#39;2049&#39; &#39;2102025&#39; &#39;22&#39; &#39;24&#39; &#39;2729&#39; &#39;30&#39; &#39;47&#39; &#39;61&#39; &#39;761&#39; &#39;77&#39;
 &#39;ad&#39;]

Matriks TF-IDF dalam bentuk DataFrame (5 baris pertama):
</pre></div>
</div>
<div class="output text_html">
  <div id="df-cde4bc50-6bfa-41de-bb53-55493f91b7ae" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>110</th>
      <th>1102025</th>
      <th>12837</th>
      <th>1445</th>
      <th>158</th>
      <th>163</th>
      <th>20212023</th>
      <th>20232024</th>
      <th>20252030</th>
      <th>2049</th>
      <th>...</th>
      <th>ubah</th>
      <th>usia</th>
      <th>utama</th>
      <th>utara</th>
      <th>wajib</th>
      <th>wakil</th>
      <th>wenang</th>
      <th>wib</th>
      <th>wilayah</th>
      <th>ya</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.049576</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.080478</td>
      <td>0.066804</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.160956</td>
      <td>0.080478</td>
      <td>0.066804</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.080478</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.049576</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.058120</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.058120</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.064819</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.105222</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.105222</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.149317</td>
      <td>0.129638</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.230757</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.122797</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.049809</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.080857</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>...</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.067118</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.049809</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 339 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-cde4bc50-6bfa-41de-bb53-55493f91b7ae')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-cde4bc50-6bfa-41de-bb53-55493f91b7ae button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-cde4bc50-6bfa-41de-bb53-55493f91b7ae');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-440e7bae-464d-434b-a397-8f2795533abc">
      <button class="colab-df-quickchart" onclick="quickchart('df-440e7bae-464d-434b-a397-8f2795533abc')"
                title="Suggest charts"
                style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-440e7bae-464d-434b-a397-8f2795533abc button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

    </div>
  </div>
</div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>✅ Proses TF-IDF selesai dan ditampilkan dalam bentuk tabel.
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">gensim.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Word2Vec</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="c1"># Pastikan dataframe df_processed sudah ada dari langkah preprocessing sebelumnya</span>
<span class="c1"># Jika belum, muat dari file CSV</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">df_processed</span>
<span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">df_processed</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;berita_liputan6_bersih.csv&#39;</span><span class="p">)</span>
        <span class="c1"># Mengubah kolom &#39;tokens&#39; dari string representasi list menjadi list sebenarnya</span>
        <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;tokens&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;tokens&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="nb">eval</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Memuat data dari &#39;berita_liputan6_bersih.csv&#39;&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">FileNotFoundError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error: File &#39;berita_liputan6_bersih.csv&#39; tidak ditemukan. Harap jalankan langkah preprocessing terlebih dahulu.&quot;</span><span class="p">)</span>
        <span class="c1"># Keluar dari eksekusi jika file tidak ditemukan</span>
        <span class="k">raise</span>


<span class="c1"># Kolom yang akan digunakan untuk Word Embedding (list of tokens)</span>
<span class="n">kolom_tokens</span> <span class="o">=</span> <span class="s1">&#39;tokens&#39;</span>

<span class="k">if</span> <span class="n">kolom_tokens</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">df_processed</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
     <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error: Kolom &#39;</span><span class="si">{</span><span class="n">kolom_tokens</span><span class="si">}</span><span class="s2">&#39; tidak ditemukan dalam dataframe.&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Proses Word Embedding (Word2Vec) ===&quot;</span><span class="p">)</span>
    <span class="c1"># Inisialisasi dan latih model Word2Vec</span>
    <span class="c1"># vector_size: dimensi vektor untuk setiap kata</span>
    <span class="c1"># window: ukuran jendela konteks</span>
    <span class="c1"># min_count: mengabaikan kata-kata dengan frekuensi kurang dari ini</span>
    <span class="n">word2vec_model</span> <span class="o">=</span> <span class="n">Word2Vec</span><span class="p">(</span><span class="n">sentences</span><span class="o">=</span><span class="n">df_processed</span><span class="p">[</span><span class="n">kolom_tokens</span><span class="p">],</span> <span class="n">vector_size</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">window</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">min_count</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">workers</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

    <span class="c1"># Fungsi untuk mendapatkan vektor dokumen (rata-rata vektor kata)</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">get_document_vector</span><span class="p">(</span><span class="n">tokens</span><span class="p">,</span> <span class="n">model</span><span class="p">):</span>
        <span class="n">vectors</span> <span class="o">=</span> <span class="p">[</span><span class="n">model</span><span class="o">.</span><span class="n">wv</span><span class="p">[</span><span class="n">token</span><span class="p">]</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">tokens</span> <span class="k">if</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">model</span><span class="o">.</span><span class="n">wv</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">vectors</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">vectors</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">wv</span><span class="o">.</span><span class="n">vector_size</span><span class="p">)</span> <span class="c1"># Mengembalikan vektor nol jika tidak ada kata dalam model</span>

    <span class="c1"># Terapkan fungsi untuk mendapatkan vektor untuk setiap dokumen (berita)</span>
    <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;document_vector&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_processed</span><span class="p">[</span><span class="n">kolom_tokens</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">get_document_vector</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">word2vec_model</span><span class="p">))</span>

    <span class="c1"># Membuat DataFrame dari vektor dokumen untuk tampilan yang lebih baik</span>
    <span class="c1"># Memberikan nama kolom generik seperti &#39;dim_0&#39;, &#39;dim_1&#39;, ...</span>
    <span class="n">document_vector_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;document_vector&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span>
                                      <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="sa">f</span><span class="s1">&#39;dim_</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">word2vec_model</span><span class="o">.</span><span class="n">wv</span><span class="o">.</span><span class="n">vector_size</span><span class="p">)])</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Contoh vektor dokumen (vektor rata-rata dari kata-kata dalam berita) dalam bentuk tabel:&quot;</span><span class="p">)</span>
    <span class="n">display</span><span class="p">(</span><span class="n">document_vector_df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">✅ Proses Word Embedding selesai. Vektor dokumen disimpan dalam kolom &#39;document_vector&#39; pada dataframe asli dan ditampilkan dalam tabel terpisah.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>=== Proses Word Embedding (Word2Vec) ===

Contoh vektor dokumen (vektor rata-rata dari kata-kata dalam berita) dalam bentuk tabel:
</pre></div>
</div>
<div class="output text_html">
  <div id="df-bdb666a2-61ab-4da7-95bd-ea36091fb5fa" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>dim_0</th>
      <th>dim_1</th>
      <th>dim_2</th>
      <th>dim_3</th>
      <th>dim_4</th>
      <th>dim_5</th>
      <th>dim_6</th>
      <th>dim_7</th>
      <th>dim_8</th>
      <th>dim_9</th>
      <th>...</th>
      <th>dim_90</th>
      <th>dim_91</th>
      <th>dim_92</th>
      <th>dim_93</th>
      <th>dim_94</th>
      <th>dim_95</th>
      <th>dim_96</th>
      <th>dim_97</th>
      <th>dim_98</th>
      <th>dim_99</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>-0.000031</td>
      <td>-0.000988</td>
      <td>-0.000397</td>
      <td>0.001147</td>
      <td>-0.000281</td>
      <td>-0.001311</td>
      <td>0.000458</td>
      <td>0.001633</td>
      <td>-0.000141</td>
      <td>-0.000931</td>
      <td>...</td>
      <td>0.000777</td>
      <td>0.000671</td>
      <td>0.000279</td>
      <td>0.000845</td>
      <td>0.000517</td>
      <td>0.000227</td>
      <td>0.001188</td>
      <td>-0.001201</td>
      <td>0.000414</td>
      <td>0.000744</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.000475</td>
      <td>-0.000239</td>
      <td>0.000735</td>
      <td>-0.000088</td>
      <td>0.001161</td>
      <td>-0.000333</td>
      <td>0.000331</td>
      <td>0.001782</td>
      <td>-0.000319</td>
      <td>-0.000330</td>
      <td>...</td>
      <td>0.001540</td>
      <td>0.000174</td>
      <td>-0.000038</td>
      <td>0.002185</td>
      <td>0.001738</td>
      <td>0.001063</td>
      <td>-0.000233</td>
      <td>-0.000632</td>
      <td>0.000288</td>
      <td>-0.000275</td>
    </tr>
    <tr>
      <th>2</th>
      <td>-0.000573</td>
      <td>0.002252</td>
      <td>-0.001026</td>
      <td>-0.000957</td>
      <td>0.000791</td>
      <td>-0.000943</td>
      <td>0.001292</td>
      <td>0.002857</td>
      <td>-0.000877</td>
      <td>-0.000402</td>
      <td>...</td>
      <td>0.001145</td>
      <td>0.000349</td>
      <td>0.000199</td>
      <td>-0.000945</td>
      <td>0.001709</td>
      <td>-0.000361</td>
      <td>0.000534</td>
      <td>-0.001427</td>
      <td>0.000421</td>
      <td>-0.001324</td>
    </tr>
    <tr>
      <th>3</th>
      <td>-0.001118</td>
      <td>0.000235</td>
      <td>0.000895</td>
      <td>0.001991</td>
      <td>-0.003326</td>
      <td>-0.001927</td>
      <td>0.002378</td>
      <td>0.001510</td>
      <td>-0.001624</td>
      <td>-0.001305</td>
      <td>...</td>
      <td>0.001421</td>
      <td>0.001413</td>
      <td>0.000194</td>
      <td>0.000417</td>
      <td>0.003181</td>
      <td>0.001783</td>
      <td>-0.000344</td>
      <td>-0.001065</td>
      <td>0.001076</td>
      <td>0.001583</td>
    </tr>
    <tr>
      <th>4</th>
      <td>-0.000160</td>
      <td>0.001604</td>
      <td>0.000716</td>
      <td>-0.000655</td>
      <td>0.001447</td>
      <td>-0.001557</td>
      <td>-0.001553</td>
      <td>0.001733</td>
      <td>-0.000755</td>
      <td>0.000218</td>
      <td>...</td>
      <td>0.001231</td>
      <td>-0.000954</td>
      <td>0.000064</td>
      <td>-0.000635</td>
      <td>0.000112</td>
      <td>0.000652</td>
      <td>-0.000780</td>
      <td>-0.001085</td>
      <td>-0.000100</td>
      <td>-0.000818</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 100 columns</p>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-bdb666a2-61ab-4da7-95bd-ea36091fb5fa')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-bdb666a2-61ab-4da7-95bd-ea36091fb5fa button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-bdb666a2-61ab-4da7-95bd-ea36091fb5fa');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-eac55b67-3dcc-4c3b-adfc-e433b1618ad8">
      <button class="colab-df-quickchart" onclick="quickchart('df-eac55b67-3dcc-4c3b-adfc-e433b1618ad8')"
                title="Suggest charts"
                style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-eac55b67-3dcc-4c3b-adfc-e433b1618ad8 button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

    </div>
  </div>
</div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>✅ Proses Word Embedding selesai. Vektor dokumen disimpan dalam kolom &#39;document_vector&#39; pada dataframe asli dan ditampilkan dalam tabel terpisah.
</pre></div>
</div>
</div>
</div>
</section>
<section id="praproses-untuk-abstrak-pta">
<h2>praproses untuk abstrak pta<a class="headerlink" href="#praproses-untuk-abstrak-pta" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># =======================================================================</span>
<span class="c1"># SEL 1: INSTALASI, IMPORT, DAN PERSIAPAN</span>
<span class="c1"># =======================================================================</span>
<span class="c1"># @title 🏗️ Instalasi &amp; Persiapan Library</span>
<span class="c1"># Menginstal library yang dibutuhkan</span>
<span class="o">!</span>pip<span class="w"> </span>install<span class="w"> </span>-q<span class="w"> </span>sastrawi<span class="w"> </span>beautifulsoup4

<span class="kn">import</span><span class="w"> </span><span class="nn">requests</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">bs4</span><span class="w"> </span><span class="kn">import</span> <span class="n">BeautifulSoup</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">nltk</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">Sastrawi.Stemmer.StemmerFactory</span><span class="w"> </span><span class="kn">import</span> <span class="n">StemmerFactory</span>

<span class="c1"># Fungsi untuk memeriksa &amp; mengunduh paket NLTK yang diperlukan secara otomatis</span>
<span class="k">def</span><span class="w"> </span><span class="nf">download_nltk_resources</span><span class="p">():</span>
    <span class="n">resources</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;tokenizers/punkt&quot;</span><span class="p">:</span> <span class="s2">&quot;punkt&quot;</span><span class="p">,</span> <span class="s2">&quot;corpora/stopwords&quot;</span><span class="p">:</span> <span class="s2">&quot;stopwords&quot;</span><span class="p">}</span>
    <span class="k">for</span> <span class="n">resource_path</span><span class="p">,</span> <span class="n">resource_name</span> <span class="ow">in</span> <span class="n">resources</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">nltk</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">resource_path</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;✅ Paket NLTK &quot;</span><span class="si">{</span><span class="n">resource_name</span><span class="si">}</span><span class="s1">&quot; sudah ada.&#39;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">LookupError</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;🟡 Paket NLTK &quot;</span><span class="si">{</span><span class="n">resource_name</span><span class="si">}</span><span class="s1">&quot; tidak ditemukan. Mengunduh...&#39;</span><span class="p">)</span>
            <span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="n">resource_name</span><span class="p">,</span> <span class="n">quiet</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;✅ Unduhan &quot;</span><span class="si">{</span><span class="n">resource_name</span><span class="si">}</span><span class="s1">&quot; selesai.&#39;</span><span class="p">)</span>

<span class="c1"># Panggil fungsi persiapan NLTK</span>
<span class="n">download_nltk_resources</span><span class="p">()</span>

<span class="c1"># Import modul NLTK setelah diunduh</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">nltk.tokenize</span><span class="w"> </span><span class="kn">import</span> <span class="n">word_tokenize</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">nltk.corpus</span><span class="w"> </span><span class="kn">import</span> <span class="n">stopwords</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">🎉 Semua library dan paket data siap digunakan!&quot;</span><span class="p">)</span>


<span class="c1"># =======================================================================</span>
<span class="c1"># SEL 2: KUMPULAN FUNGSI (SCRAPER &amp; PREPROCESSOR)</span>
<span class="c1"># =======================================================================</span>
<span class="c1"># @title 🛠️ Definisi Fungsi-Fungsi</span>

<span class="c1"># --- Fungsi untuk Preprocessing ---</span>
<span class="k">def</span><span class="w"> </span><span class="nf">hapus_simbol</span><span class="p">(</span><span class="n">teks</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[^a-zA-Z0-9\s]&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">teks</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">normalisasi_kata</span><span class="p">(</span><span class="n">teks</span><span class="p">,</span> <span class="n">kamus_baku</span><span class="p">):</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="n">word_tokenize</span><span class="p">(</span><span class="n">teks</span><span class="p">)</span>
    <span class="k">return</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">kamus_baku</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="n">token</span><span class="p">)</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">tokens</span><span class="p">])</span>

<span class="k">def</span><span class="w"> </span><span class="nf">hapus_stopword</span><span class="p">(</span><span class="n">teks</span><span class="p">,</span> <span class="n">list_stopword</span><span class="p">):</span>
    <span class="n">tokens</span> <span class="o">=</span> <span class="n">word_tokenize</span><span class="p">(</span><span class="n">teks</span><span class="p">)</span>
    <span class="k">return</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">token</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">tokens</span> <span class="k">if</span> <span class="n">token</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">list_stopword</span><span class="p">])</span>

<span class="k">def</span><span class="w"> </span><span class="nf">stemming_teks</span><span class="p">(</span><span class="n">teks</span><span class="p">,</span> <span class="n">stemmer</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">stemmer</span><span class="o">.</span><span class="n">stem</span><span class="p">(</span><span class="n">teks</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">tokenisasi</span><span class="p">(</span><span class="n">teks</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">word_tokenize</span><span class="p">(</span><span class="n">teks</span><span class="p">)</span>


<span class="c1"># =======================================================================</span>
<span class="c1"># SEL 3: EKSEKUSI UTAMA</span>
<span class="c1"># =======================================================================</span>
<span class="c1"># @title ▶️ Jalankan Proses Utama (Scraping &amp; Preprocessing)</span>

<span class="c1"># --- Langkah 1: Scraping Data ---</span>
<span class="n">df_scraped</span> <span class="o">=</span> <span class="n">ptaa</span><span class="p">()</span>

<span class="c1"># --- Langkah 2: Preprocessing Data ---</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">df_scraped</span><span class="o">.</span><span class="n">empty</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Memulai proses preprocessing data abstrak...&quot;</span><span class="p">)</span>

    <span class="n">df_processed</span> <span class="o">=</span> <span class="n">df_scraped</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="c1"># Menghapus baris dimana abstrak tidak tersedia</span>
    <span class="n">df_processed</span> <span class="o">=</span> <span class="n">df_processed</span><span class="p">[</span><span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;abstrak&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="s1">&#39;Tidak tersedia&#39;</span><span class="p">]</span>

    <span class="c1"># Siapkan alat-alat preprocessing</span>
    <span class="n">kamus_baku</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;yg&#39;</span><span class="p">:</span> <span class="s1">&#39;yang&#39;</span><span class="p">,</span> <span class="s1">&#39;dgn&#39;</span><span class="p">:</span> <span class="s1">&#39;dengan&#39;</span><span class="p">,</span> <span class="s1">&#39;utk&#39;</span><span class="p">:</span> <span class="s1">&#39;untuk&#39;</span><span class="p">,</span> <span class="s1">&#39;dlm&#39;</span><span class="p">:</span> <span class="s1">&#39;dalam&#39;</span><span class="p">,</span> <span class="s1">&#39;kpd&#39;</span><span class="p">:</span> <span class="s1">&#39;kepada&#39;</span><span class="p">,</span> <span class="s1">&#39;thd&#39;</span><span class="p">:</span> <span class="s1">&#39;terhadap&#39;</span><span class="p">}</span>
    <span class="n">list_stopword</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s1">&#39;indonesian&#39;</span><span class="p">))</span>
    <span class="n">stemmer</span> <span class="o">=</span> <span class="n">StemmerFactory</span><span class="p">()</span><span class="o">.</span><span class="n">create_stemmer</span><span class="p">()</span>

    <span class="c1"># Terapkan semua langkah preprocessing</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;    (1/6) Case Folding...&quot;</span><span class="p">)</span>
    <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;abstrak_bersih&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;abstrak&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;    (2/6) Menghilangkan Simbol/Tanda Baca...&quot;</span><span class="p">)</span>
    <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;abstrak_bersih&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;abstrak_bersih&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">hapus_simbol</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;    (3/6) Normalisasi Kata...&quot;</span><span class="p">)</span>
    <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;abstrak_bersih&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;abstrak_bersih&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">normalisasi_kata</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">kamus_baku</span><span class="p">))</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;    (4/6) Menghapus Stopword...&quot;</span><span class="p">)</span>
    <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;abstrak_bersih&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;abstrak_bersih&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">hapus_stopword</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">list_stopword</span><span class="p">))</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;    (5/6) Stemming...&quot;</span><span class="p">)</span>
    <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;abstrak_bersih&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;abstrak_bersih&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">stemming_teks</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">stemmer</span><span class="p">))</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;    (6/6) Tokenisasi Akhir...&quot;</span><span class="p">)</span>
    <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;tokens&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_processed</span><span class="p">[</span><span class="s1">&#39;abstrak_bersih&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">tokenisasi</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">✅ Preprocessing selesai!&quot;</span><span class="p">)</span>

    <span class="c1"># --- Langkah 3: Simpan dan Tampilkan Hasil ---</span>
    <span class="n">df_processed</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;pta_trunojoyo_bersih.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hasil disimpan dalam file &#39;pta_trunojoyo_bersih.csv&#39;&quot;</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">🔎 Contoh Perbandingan Hasil Akhir (5 baris pertama):&quot;</span><span class="p">)</span>
    <span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_colwidth&#39;</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
    <span class="n">display</span><span class="p">(</span><span class="n">df_processed</span><span class="p">[[</span><span class="s1">&#39;abstrak&#39;</span><span class="p">,</span> <span class="s1">&#39;tokens&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Tidak ada data untuk diproses. Pastikan proses scraping berhasil.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>✅ Paket NLTK &quot;punkt&quot; sudah ada.
✅ Paket NLTK &quot;stopwords&quot; sudah ada.

🎉 Semua library dan paket data siap digunakan!
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/usr/local/lib/python3.12/dist-packages/soupsieve/css_parser.py:876: FutureWarning: The pseudo class &#39;:contains&#39; is deprecated, &#39;:-soup-contains&#39; should be used moving forward.
  warnings.warn(  # noqa: B028
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Memulai proses preprocessing data abstrak...
    (1/6) Case Folding...
    (2/6) Menghilangkan Simbol/Tanda Baca...
    (3/6) Normalisasi Kata...
    (4/6) Menghapus Stopword...
    (5/6) Stemming...
    (6/6) Tokenisasi Akhir...

✅ Preprocessing selesai!
Hasil disimpan dalam file &#39;pta_trunojoyo_bersih.csv&#39;

🔎 Contoh Perbandingan Hasil Akhir (5 baris pertama):
</pre></div>
</div>
<div class="output text_html">
  <div id="df-1605a0e7-9045-4c01-aced-96be2705fb2d" class="colab-df-container">
    <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>abstrak</th>
      <th>tokens</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Portofolio adalah sekumpulan saham yang dimiliki investor. Dalam setiap saham pada portofolio memiliki resiko yang harus diminimalkan dengan cara diversifikasi yaitu dengan mengalokasikan dana pad...</td>
      <td>[portofolio, kumpul, saham, milik, investor, saham, portofolio, milik, resiko, minimal, diversifikasi, alokasi, dana, alternatif, investasi, kombinasi, saham, portofolio, skripsi, saham, saham, us...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>PT. ABC merupakan perusahaan yang bergerak dibidang manufaktur kayu yaitu memproduksi meja, kursi dan lain-lain. Terdapat berbagai jenis mesin yang berada dalam lantai produksi PT. ABC untuk menun...</td>
      <td>[pt, abc, usaha, gerak, bidang, manufaktur, kayu, produksi, meja, kursi, lainlain, jenis, mesin, lantai, produksi, pt, abc, tunjang, jalan, proses, produksi, planner, ripsaw, sanding, mesin, pt, a...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Bangkalan merupakan salah satu kabupaten yang memiliki potensi alam salak. ?Potensi alam tersebut dimanfaatkan oleh UD. Budi Jaya yang terletak di Desa ?Kramat? Bangkalan dengan memproduksi produk...</td>
      <td>[bangkal, salah, kabupaten, milik, potensi, alam, salak, potensi, alam, manfaat, ud, budi, jaya, letak, desa, kramat, bangkal, produksi, produk, olah, salak, ud, budi, jaya, temu, kendala, pasar, ...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Simulasi adalah duplikasi atau abstraksi dari persoalan dalam kehidupan nyata ke dalam model matematika. Berdasarkan hasil survey pendahuluan di lantai produksi PT Indospring tbk masih sering terj...</td>
      <td>[simulasi, duplikasi, abstraksi, hidup, nyata, model, matematika, dasar, hasil, survey, dahulu, lantai, produksi, pt, indospring, tbk, proses, produksi, optimal, salah, satu, antri, target, output...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Kepuasan adalah tingkat perasaan seseorang terhadap pelayanan setelah membandingkan antara kinerja dengan harapan yang diinginkan. Dalam penelitian ini dilakukan studi kualitas layanan dalam menin...</td>
      <td>[puas, tingkat, asa, layan, banding, kerja, harap, teliti, studi, kualitas, layan, tingkat, puas, masyrakat, integrasi, importance, performance, analysis, ipa, model, kano, dekat, tuju, bantu, sat...</td>
    </tr>
  </tbody>
</table>
</div>
    <div class="colab-df-buttons">

  <div class="colab-df-container">
    <button class="colab-df-convert" onclick="convertToInteractive('df-1605a0e7-9045-4c01-aced-96be2705fb2d')"
            title="Convert this dataframe to an interactive table."
            style="display:none;">

  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960">
    <path d="M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z"/>
  </svg>
    </button>

  <style>
    .colab-df-container {
      display:flex;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    .colab-df-buttons div {
      margin-bottom: 4px;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

    <script>
      const buttonEl =
        document.querySelector('#df-1605a0e7-9045-4c01-aced-96be2705fb2d button.colab-df-convert');
      buttonEl.style.display =
        google.colab.kernel.accessAllowed ? 'block' : 'none';

      async function convertToInteractive(key) {
        const element = document.querySelector('#df-1605a0e7-9045-4c01-aced-96be2705fb2d');
        const dataTable =
          await google.colab.kernel.invokeFunction('convertToInteractive',
                                                    [key], {});
        if (!dataTable) return;

        const docLinkHtml = 'Like what you see? Visit the ' +
          '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
          + ' to learn more about interactive tables.';
        element.innerHTML = '';
        dataTable['output_type'] = 'display_data';
        await google.colab.output.renderOutput(dataTable, element);
        const docLink = document.createElement('div');
        docLink.innerHTML = docLinkHtml;
        element.appendChild(docLink);
      }
    </script>
  </div>


    <div id="df-2bb2f741-1c93-45e0-9242-a0e26054a1e9">
      <button class="colab-df-quickchart" onclick="quickchart('df-2bb2f741-1c93-45e0-9242-a0e26054a1e9')"
                title="Suggest charts"
                style="display:none;">

<svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
     width="24px">
    <g>
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
    </g>
</svg>
      </button>

<style>
  .colab-df-quickchart {
      --bg-color: #E8F0FE;
      --fill-color: #1967D2;
      --hover-bg-color: #E2EBFA;
      --hover-fill-color: #174EA6;
      --disabled-fill-color: #AAA;
      --disabled-bg-color: #DDD;
  }

  [theme=dark] .colab-df-quickchart {
      --bg-color: #3B4455;
      --fill-color: #D2E3FC;
      --hover-bg-color: #434B5C;
      --hover-fill-color: #FFFFFF;
      --disabled-bg-color: #3B4455;
      --disabled-fill-color: #666;
  }

  .colab-df-quickchart {
    background-color: var(--bg-color);
    border: none;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    fill: var(--fill-color);
    height: 32px;
    padding: 0;
    width: 32px;
  }

  .colab-df-quickchart:hover {
    background-color: var(--hover-bg-color);
    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);
    fill: var(--button-hover-fill-color);
  }

  .colab-df-quickchart-complete:disabled,
  .colab-df-quickchart-complete:disabled:hover {
    background-color: var(--disabled-bg-color);
    fill: var(--disabled-fill-color);
    box-shadow: none;
  }

  .colab-df-spinner {
    border: 2px solid var(--fill-color);
    border-color: transparent;
    border-bottom-color: var(--fill-color);
    animation:
      spin 1s steps(1) infinite;
  }

  @keyframes spin {
    0% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
      border-left-color: var(--fill-color);
    }
    20% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    30% {
      border-color: transparent;
      border-left-color: var(--fill-color);
      border-top-color: var(--fill-color);
      border-right-color: var(--fill-color);
    }
    40% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-top-color: var(--fill-color);
    }
    60% {
      border-color: transparent;
      border-right-color: var(--fill-color);
    }
    80% {
      border-color: transparent;
      border-right-color: var(--fill-color);
      border-bottom-color: var(--fill-color);
    }
    90% {
      border-color: transparent;
      border-bottom-color: var(--fill-color);
    }
  }
</style>

      <script>
        async function quickchart(key) {
          const quickchartButtonEl =
            document.querySelector('#' + key + ' button');
          quickchartButtonEl.disabled = true;  // To prevent multiple clicks.
          quickchartButtonEl.classList.add('colab-df-spinner');
          try {
            const charts = await google.colab.kernel.invokeFunction(
                'suggestCharts', [key], {});
          } catch (error) {
            console.error('Error during call to suggestCharts:', error);
          }
          quickchartButtonEl.classList.remove('colab-df-spinner');
          quickchartButtonEl.classList.add('colab-df-quickchart-complete');
        }
        (() => {
          let quickchartButtonEl =
            document.querySelector('#df-2bb2f741-1c93-45e0-9242-a0e26054a1e9 button');
          quickchartButtonEl.style.display =
            google.colab.kernel.accessAllowed ? 'block' : 'none';
        })();
      </script>
    </div>

    </div>
  </div>
</div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># === LDA -&gt; EKSTRAKSI FITUR -&gt; KLASIFIKASI BERITA ===</span>
<span class="c1"># Sambungan kode untuk menghasilkan fitur topik dari LDA dan melatih klasifier sederhana.</span>
<span class="c1"># Penjelasan singkat:</span>
<span class="c1"># 1) Jika gensim tersedia, gunakan gensim LdaModel. Jika tidak, fallback ke sklearn LatentDirichletAllocation.</span>
<span class="c1"># 2) Menggunakan teks mentah (kolom &#39;text&#39; atau &#39;judul&#39;/&#39;isi&#39; sesuai dataset) untuk vektorisasi.</span>
<span class="c1"># 3) Mengubah distribusi topik menjadi fitur untuk klasifier (mis. LogisticRegression).</span>
<span class="c1"># 4) Menampilkan akurasi dan classification report.</span>
<span class="c1">#</span>
<span class="c1"># Pastikan dataset Anda memiliki kolom &#39;text&#39; (atau sesuaikan nama kolomnya) dan &#39;label&#39; (kelas target).</span>
<span class="c1"># Kalau dataset Anda berbeda, ubah nama kolom di bawah ini.</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.model_selection</span><span class="w"> </span><span class="kn">import</span> <span class="n">train_test_split</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.feature_extraction.text</span><span class="w"> </span><span class="kn">import</span> <span class="n">CountVectorizer</span><span class="p">,</span> <span class="n">TfidfVectorizer</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.decomposition</span><span class="w"> </span><span class="kn">import</span> <span class="n">LatentDirichletAllocation</span> <span class="k">as</span> <span class="n">SKL_LDA</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.linear_model</span><span class="w"> </span><span class="kn">import</span> <span class="n">LogisticRegression</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">classification_report</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">confusion_matrix</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">warnings</span>
    <span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Gagal mengimpor beberapa paket sklearn/pandas. Pastikan environment memiliki paket dasar. Error:&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>

<span class="c1"># Load data: coba beberapa kemungkinan kolom umum</span>
<span class="k">if</span> <span class="s1">&#39;df&#39;</span> <span class="ow">in</span> <span class="nb">globals</span><span class="p">():</span>
    <span class="n">df_all</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># coba muat file CSV yang mungkin dipakai di notebook</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
    <span class="n">candidates</span> <span class="o">=</span> <span class="p">[</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">()</span> <span class="k">if</span> <span class="n">p</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.csv&quot;</span><span class="p">)]</span>
    <span class="n">df_all</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">candidates</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">tmp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
            <span class="c1"># cari kolom teks</span>
            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">col</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">,</span><span class="s2">&quot;isi&quot;</span><span class="p">,</span><span class="s2">&quot;konten&quot;</span><span class="p">,</span><span class="s2">&quot;content&quot;</span><span class="p">,</span><span class="s2">&quot;article&quot;</span><span class="p">,</span><span class="s2">&quot;body&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">tmp</span><span class="o">.</span><span class="n">columns</span><span class="p">):</span>
                <span class="n">df_all</span> <span class="o">=</span> <span class="n">tmp</span>
                <span class="k">break</span>
            <span class="c1"># juga bisa gunakan kolom &#39;judul&#39; + &#39;isi&#39;</span>
            <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">col</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;judul&quot;</span><span class="p">,</span><span class="s2">&quot;title&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">tmp</span><span class="o">.</span><span class="n">columns</span><span class="p">):</span>
                <span class="n">df_all</span> <span class="o">=</span> <span class="n">tmp</span>
                <span class="k">break</span>
        <span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
            <span class="k">continue</span>

<span class="k">if</span> <span class="n">df_all</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Gagal menemukan DataFrame bernama &#39;df&#39; atau file CSV dengan kolom teks. Silakan pastikan dataset tersedia dan memiliki kolom teks serta label.&quot;</span><span class="p">)</span>

<span class="c1"># tentukan nama kolom teks dan label (sesuaikan jika beda)</span>
<span class="n">text_col</span> <span class="o">=</span> <span class="kc">None</span>
<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">df_all</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">,</span><span class="s2">&quot;isi&quot;</span><span class="p">,</span><span class="s2">&quot;content&quot;</span><span class="p">,</span><span class="s2">&quot;article&quot;</span><span class="p">,</span><span class="s2">&quot;body&quot;</span><span class="p">):</span>
        <span class="n">text_col</span> <span class="o">=</span> <span class="n">c</span>
        <span class="k">break</span>
<span class="k">if</span> <span class="n">text_col</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">df_all</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;judul&quot;</span><span class="p">,</span><span class="s2">&quot;title&quot;</span><span class="p">):</span>
            <span class="n">text_col</span> <span class="o">=</span> <span class="n">c</span>
            <span class="k">break</span>

<span class="k">if</span> <span class="n">text_col</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;Tidak menemukan kolom teks otomatis. Silakan set variabel text_col ke nama kolom teks pada dataset.&quot;</span><span class="p">)</span>

<span class="n">label_col</span> <span class="o">=</span> <span class="kc">None</span>
<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">df_all</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">c</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;label&quot;</span><span class="p">,</span><span class="s2">&quot;kategori&quot;</span><span class="p">,</span><span class="s2">&quot;class&quot;</span><span class="p">,</span><span class="s2">&quot;target&quot;</span><span class="p">):</span>
        <span class="n">label_col</span> <span class="o">=</span> <span class="n">c</span>
        <span class="k">break</span>

<span class="c1"># Jika label tidak ditemukan, buat dummy (misalnya topik dari LDA) - tetapi idealnya user punya label</span>
<span class="k">if</span> <span class="n">label_col</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Kolom label tidak ditemukan. Membuat label dummy berdasarkan topik dominan LDA nanti (hanya untuk demonstrasi).&quot;</span><span class="p">)</span>
    <span class="c1"># kita tetap lanjut tanpa label untuk mengekstrak topik saja</span>
    <span class="n">has_label</span> <span class="o">=</span> <span class="kc">False</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">has_label</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">texts</span> <span class="o">=</span> <span class="n">df_all</span><span class="p">[</span><span class="n">text_col</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>

<span class="c1"># Vektorisasi dengan CountVectorizer untuk LDA</span>
<span class="n">cv</span> <span class="o">=</span> <span class="n">CountVectorizer</span><span class="p">(</span><span class="n">max_df</span><span class="o">=</span><span class="mf">0.95</span><span class="p">,</span> <span class="n">min_df</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">stop_words</span><span class="o">=</span><span class="s1">&#39;english&#39;</span><span class="p">,</span> <span class="n">ngram_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="n">X_counts</span> <span class="o">=</span> <span class="n">cv</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">texts</span><span class="p">)</span>

<span class="n">n_topics</span> <span class="o">=</span> <span class="mi">10</span>  <span class="c1"># Anda bisa ubah jumlah topik</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Mencoba ekstraksi </span><span class="si">{</span><span class="n">n_topics</span><span class="si">}</span><span class="s2"> topik dari </span><span class="si">{</span><span class="n">X_counts</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2"> dokumen.&quot;</span><span class="p">)</span>

<span class="c1"># Coba gunakan gensim LDA jika tersedia, jika tidak pakai sklearn LDA</span>
<span class="n">use_gensim</span> <span class="o">=</span> <span class="kc">False</span>
<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">gensim</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">gensim.corpora</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">corpora</span>
    <span class="kn">from</span><span class="w"> </span><span class="nn">gensim.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">LdaModel</span>
    <span class="c1"># persiapkan corpus gensim</span>
    <span class="n">tokenized</span> <span class="o">=</span> <span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">texts</span><span class="p">]</span>
    <span class="n">id2word</span> <span class="o">=</span> <span class="n">corpora</span><span class="o">.</span><span class="n">Dictionary</span><span class="p">(</span><span class="n">tokenized</span><span class="p">)</span>
    <span class="n">corpus</span> <span class="o">=</span> <span class="p">[</span><span class="n">id2word</span><span class="o">.</span><span class="n">doc2bow</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">tokenized</span><span class="p">]</span>
    <span class="n">lda_model</span> <span class="o">=</span> <span class="n">LdaModel</span><span class="p">(</span><span class="n">corpus</span><span class="o">=</span><span class="n">corpus</span><span class="p">,</span> <span class="n">id2word</span><span class="o">=</span><span class="n">id2word</span><span class="p">,</span> <span class="n">num_topics</span><span class="o">=</span><span class="n">n_topics</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">passes</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
    <span class="c1"># ambil distribusi topik per dokumen</span>
    <span class="n">topic_dist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">corpus</span><span class="p">),</span> <span class="n">n_topics</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">doc_bow</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">corpus</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">topic_id</span><span class="p">,</span> <span class="n">prob</span> <span class="ow">in</span> <span class="n">lda_model</span><span class="o">.</span><span class="n">get_document_topics</span><span class="p">(</span><span class="n">doc_bow</span><span class="p">):</span>
            <span class="n">topic_dist</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">topic_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">prob</span>
    <span class="n">use_gensim</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Menggunakan gensim LdaModel.&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;gensim tidak tersedia atau gagal, fallback ke sklearn LDA. Info:&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">))</span>
    <span class="n">skl_lda</span> <span class="o">=</span> <span class="n">SKL_LDA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="n">n_topics</span><span class="p">,</span> <span class="n">max_iter</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">learning_method</span><span class="o">=</span><span class="s1">&#39;online&#39;</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
    <span class="n">topic_dist</span> <span class="o">=</span> <span class="n">skl_lda</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_counts</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Menggunakan sklearn LDA. Selesai fitting.&quot;</span><span class="p">)</span>

<span class="c1"># Jika tidak ada label, buat label dummy: topic dominan</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">has_label</span><span class="p">:</span>
    <span class="n">labels</span> <span class="o">=</span> <span class="n">topic_dist</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">labels</span> <span class="o">=</span> <span class="n">df_all</span><span class="p">[</span><span class="n">label_col</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="c1"># Bagi data untuk klasifikasi (jika ada label asli)</span>
<span class="k">if</span> <span class="n">has_label</span><span class="p">:</span>
    <span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">topic_dist</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">stratify</span><span class="o">=</span><span class="n">labels</span><span class="p">)</span>
    <span class="n">clf</span> <span class="o">=</span> <span class="n">LogisticRegression</span><span class="p">(</span><span class="n">max_iter</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">clf</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
    <span class="n">y_pred</span> <span class="o">=</span> <span class="n">clf</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Accuracy:&quot;</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Classification report:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Confusion matrix:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># Jika hanya demonstrasi (tanpa label), tunjukkan topik teratas dan contoh dokumen per topik</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
    <span class="n">top_n</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="n">top_topic_idx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">topic_dist</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))[::</span><span class="o">-</span><span class="mi">1</span><span class="p">][:</span><span class="n">top_n</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Top topics (by total weight):&quot;</span><span class="p">,</span> <span class="n">top_topic_idx</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>
    <span class="c1"># tampilkan 3 contoh dokumen untuk setiap topik</span>
    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">top_topic_idx</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;--- Contoh dokumen untuk topik </span><span class="si">{</span><span class="n">t</span><span class="si">}</span><span class="s2"> ---&quot;</span><span class="p">)</span>
        <span class="n">docs_idx</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">topic_dist</span><span class="p">[:,</span> <span class="n">t</span><span class="p">])[::</span><span class="o">-</span><span class="mi">1</span><span class="p">][:</span><span class="mi">3</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">di</span> <span class="ow">in</span> <span class="n">docs_idx</span><span class="p">:</span>
            <span class="n">txt</span> <span class="o">=</span> <span class="n">texts</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">di</span><span class="p">]</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;(</span><span class="si">{</span><span class="n">di</span><span class="si">}</span><span class="s2">) </span><span class="si">{</span><span class="n">txt</span><span class="p">[:</span><span class="mi">200</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\\</span><span class="s1">n&#39;</span><span class="p">,</span><span class="s1">&#39; &#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
    <span class="c1"># Jika gensim dan model tersedia, tampilkan kata-kata topik</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">use_gensim</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_topics</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Top kata topik </span><span class="si">{</span><span class="n">t</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">,</span> <span class="n">lda_model</span><span class="o">.</span><span class="n">show_topic</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">topn</span><span class="o">=</span><span class="mi">10</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># menggunakan sklearn LDA: tampilkan kata-kata penting per komponen</span>
            <span class="n">feature_names</span> <span class="o">=</span> <span class="n">cv</span><span class="o">.</span><span class="n">get_feature_names_out</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">topic_idx</span><span class="p">,</span> <span class="n">topic</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">skl_lda</span><span class="o">.</span><span class="n">components_</span><span class="p">):</span>
                <span class="n">top_features_ind</span> <span class="o">=</span> <span class="n">topic</span><span class="o">.</span><span class="n">argsort</span><span class="p">()[:</span><span class="o">-</span><span class="mi">11</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">top_features</span> <span class="o">=</span> <span class="p">[</span><span class="n">feature_names</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">top_features_ind</span><span class="p">]</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Top kata topik </span><span class="si">{</span><span class="n">topic_idx</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">,</span> <span class="n">top_features</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Gagal menampilkan kata-kata topik:&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>

<span class="c1"># Simpan hasil distribusi topik ke dataframe (opsional)</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;topic_</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">topic_dist</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">])]</span>
    <span class="n">topics_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">topic_dist</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">cols</span><span class="p">)</span>
    <span class="n">out_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df_all</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">topics_df</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">out_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;news_with_topics.csv&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Distribusi topik disimpan ke news_with_topics.csv&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Gagal menyimpan CSV:&quot;</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span>

<span class="c1"># Selesai.</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Kolom label tidak ditemukan. Membuat label dummy berdasarkan topik dominan LDA nanti (hanya untuk demonstrasi).
Mencoba ekstraksi 10 topik dari 10 dokumen.
gensim tidak tersedia atau gagal, fallback ke sklearn LDA. Info: No module named &#39;gensim&#39;
Menggunakan sklearn LDA. Selesai fitting.
Top topics (by total weight): [9, 8, 7, 6, 5]
--- Contoh dokumen untuk topik 9 ---
(9) Leveraging Machine Learning Techniques for Customer Data Deduplication - Hard-Won Lessons from a Real-World Project in the Financial Industry...
(8) Multimodal Zero-Shot Activity Recognition for Process Mining of Robotic Systems...
(7) Adaptive Web API Recommendation via Matching Service Clusters and Mashup Requirement...
--- Contoh dokumen untuk topik 8 ---
(9) Leveraging Machine Learning Techniques for Customer Data Deduplication - Hard-Won Lessons from a Real-World Project in the Financial Industry...
(8) Multimodal Zero-Shot Activity Recognition for Process Mining of Robotic Systems...
(7) Adaptive Web API Recommendation via Matching Service Clusters and Mashup Requirement...
--- Contoh dokumen untuk topik 7 ---
(9) Leveraging Machine Learning Techniques for Customer Data Deduplication - Hard-Won Lessons from a Real-World Project in the Financial Industry...
(8) Multimodal Zero-Shot Activity Recognition for Process Mining of Robotic Systems...
(7) Adaptive Web API Recommendation via Matching Service Clusters and Mashup Requirement...
--- Contoh dokumen untuk topik 6 ---
(9) Leveraging Machine Learning Techniques for Customer Data Deduplication - Hard-Won Lessons from a Real-World Project in the Financial Industry...
(8) Multimodal Zero-Shot Activity Recognition for Process Mining of Robotic Systems...
(7) Adaptive Web API Recommendation via Matching Service Clusters and Mashup Requirement...
--- Contoh dokumen untuk topik 5 ---
(9) Leveraging Machine Learning Techniques for Customer Data Deduplication - Hard-Won Lessons from a Real-World Project in the Financial Industry...
(8) Multimodal Zero-Shot Activity Recognition for Process Mining of Robotic Systems...
(7) Adaptive Web API Recommendation via Matching Service Clusters and Mashup Requirement...
Top kata topik 0: [&#39;mining&#39;]
Top kata topik 1: [&#39;mining&#39;]
Top kata topik 2: [&#39;mining&#39;]
Top kata topik 3: [&#39;mining&#39;]
Top kata topik 4: [&#39;mining&#39;]
Top kata topik 5: [&#39;mining&#39;]
Top kata topik 6: [&#39;mining&#39;]
Top kata topik 7: [&#39;mining&#39;]
Top kata topik 8: [&#39;mining&#39;]
Top kata topik 9: [&#39;mining&#39;]
Distribusi topik disimpan ke news_with_topics.csv
</pre></div>
</div>
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="intro3.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Web Crawling</p>
      </div>
    </a>
    <a class="right-next"
       href="intro5.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Klasifikasi data berita menggunakan LDA</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Crawling link untuk data text</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#crawling-code">Crawling code</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#kode-untuk-melakukan-web-scraping-pada-situs-pta-trunojoyo-ac-id-untuk-mengumpulkan-semua-judul-beserta-data-pendukungnya-dengan-fokus-hanya-pada-entri-yang-berasal-dari-fakultas-teknik">Kode untuk melakukan web scraping pada situs pta.trunojoyo.ac.id untuk mengumpulkan semua judul beserta data pendukungnya, dengan fokus hanya pada entri yang berasal dari Fakultas Teknik.</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#kode-untuk-scraping-berita-dari-sebuah-web-berita">kode untuk scraping berita dari sebuah web berita</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#kode-untuk-scraping-semua-link-yang-ada-di-website-dan-mencari-kembali-semua-link-yang-ada-di-dalamnya-sampai-semua-telah-tercapai">kode untuk scraping semua link yang ada di website dan mencari kembali semua link yang ada di dalamnya sampai semua telah tercapai</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#preprocessing-isi-berita">Preprocessing isi berita</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tf-idf-dan-word-embedding-untuk-website-berita-yang-telah-di-bersihkan">TF-IDF dan word embedding untuk website berita yang telah di bersihkan</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#praproses-untuk-abstrak-pta">praproses untuk abstrak pta</a></li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book Community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>